(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const ks=`<h1>mastodon-post-scheduler</h1>
<p>a basic web ui for scheduling posts on mastodon</p>
<h2>how to get an access token</h2>
<ul>
<li>create/login to a mastodon account</li>
<li>go to <code>Preferences &gt; Development &gt; New application</code></li>
<li>give it whatever name you'd like (this will show up in the app field of the post)</li>
<li>include the scopes <code>read:statuses</code>, <code>write:media</code>, and <code>write:statuses</code></li>
<li>once created, select it and copy <code>Your access token</code></li>
</ul>
<h2>notes</h2>
<ul>
<li>posts scheduled with this tool use your default settings for post visibility and language</li>
<li>instances have their own post length/attachment limits, which this tool does not check for you</li>
<li>this tool does not store any data: it fetches and posts on your behalf, but the actual scheduling is handled by your instance</li>
<li>when posts scheduled in the near future, mastodon may post them immediately instead of scheduling them (default is &lt;5min)</li>
</ul>
`,Ms="mastodon-post-scheduler",Us="1.1.0",Gs="a basic web ui for scheduling posts on mastodon",Bs={postversion:"npm run build",start:"vite --port 80",build:"vite build",serve:"vite preview",lint:'eslint "src/**/*.js"'},Ws={type:"git",url:"git+https://github.com/seleb/mastodon-post-scheduler.git"},qs="Sean S. LeBlanc <sean.s.leblanc@gmail.com>",Hs="MIT",zs={plugins:["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog","@semantic-release/npm","@semantic-release/github",["@semantic-release/git",{assets:["docs/**/*","CHANGELOG.md","package.json","package-lock.json"]}]]},Vs={eslint:"^8.44.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"^2.27.5","eslint-plugin-prettier":"^4.2.1",masto:"^5.11.3",prettier:"^2.8.8","rollup-plugin-visualizer":"^5.9.2",sass:"^1.63.6",vite:"^4.3.9","vite-plugin-markdown":"^2.2.0-2"},Xs={private:!0,name:Ms,version:Us,description:Gs,scripts:Bs,repository:Ws,author:qs,license:Hs,release:zs,devDependencies:Vs};function Hn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ks(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var s=[null];s.push.apply(s,arguments);var i=Function.bind.apply(e,s);return new i}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}const Ys=globalThis.FormData,Qs=globalThis.Headers,Js=globalThis.Request,Zs=globalThis.Response,ei=globalThis.fetch,ti=globalThis.AbortController;var zn=Ys,Ot=Qs,ri=Js,ni=Zs,si=ei,Vn=ti,pr={exports:{}};const ii="2.0.0",Xn=256,oi=Number.MAX_SAFE_INTEGER||9007199254740991,ai=16,li=Xn-6,ci=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var xt={MAX_LENGTH:Xn,MAX_SAFE_COMPONENT_LENGTH:ai,MAX_SAFE_BUILD_LENGTH:li,MAX_SAFE_INTEGER:oi,RELEASE_TYPES:ci,SEMVER_SPEC_VERSION:ii,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const ui=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var Ct=ui;(function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:n}=xt,s=Ct;e=r.exports={};const i=e.re=[],u=e.safeRe=[],o=e.src=[],a=e.t={};let h=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",t],[p,n]],y=g=>{for(const[I,E]of d)g=g.split(`${I}*`).join(`${I}{0,${E}}`).split(`${I}+`).join(`${I}{1,${E}}`);return g},f=(g,I,E)=>{const O=y(I),T=h++;s(g,T,I),a[g]=T,o[T]=I,i[T]=new RegExp(I,E?"g":void 0),u[T]=new RegExp(O,E?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),f("FULL",`^${o[a.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),f("LOOSE",`^${o[a.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),f("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),f("COERCERTL",o[a.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",f("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",f("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(pr,pr.exports);var nt=pr.exports;const pi=Object.freeze({loose:!0}),hi=Object.freeze({}),fi=r=>r?typeof r!="object"?pi:r:hi;var $r=fi;const en=/^[0-9]+$/,Kn=(r,e)=>{const t=en.test(r),n=en.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},di=(r,e)=>Kn(e,r);var Yn={compareIdentifiers:Kn,rcompareIdentifiers:di};const yt=Ct,{MAX_LENGTH:tn,MAX_SAFE_INTEGER:vt}=xt,{safeRe:rn,t:nn}=nt,yi=$r,{compareIdentifiers:Te}=Yn;let vi=class ee{constructor(e,t){if(t=yi(t),e instanceof ee){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>tn)throw new TypeError(`version is longer than ${tn} characters`);yt("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?rn[nn.LOOSE]:rn[nn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>vt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vt||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<vt)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(yt("SemVer.compare",this.version,this.options,e),!(e instanceof ee)){if(typeof e=="string"&&e===this.version)return 0;e=new ee(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ee||(e=new ee(e,this.options)),Te(this.major,e.major)||Te(this.minor,e.minor)||Te(this.patch,e.patch)}comparePre(e){if(e instanceof ee||(e=new ee(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],s=e.prerelease[t];if(yt("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Te(n,s)}while(++t)}compareBuild(e){e instanceof ee||(e=new ee(e,this.options));let t=0;do{const n=this.build[t],s=e.build[t];if(yt("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Te(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Te(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var B=vi;const sn=B,mi=(r,e,t=!1)=>{if(r instanceof sn)return r;try{return new sn(r,e)}catch(n){if(!t)return null;throw n}};var Ge=mi;const gi=Ge,wi=(r,e)=>{const t=gi(r,e);return t?t.version:null};var Ei=wi;const $i=Ge,Si=(r,e)=>{const t=$i(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var bi=Si;const on=B,Ri=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new on(r instanceof on?r.version:r,t).inc(e,n,s).version}catch{return null}};var Oi=Ri;const an=Ge,Ai=(r,e)=>{const t=an(r,null,!0),n=an(e,null,!0),s=t.compare(n);if(s===0)return null;const i=s>0,u=i?t:n,o=i?n:t,a=!!u.prerelease.length;if(!!o.prerelease.length&&!a)return!o.patch&&!o.minor?"major":u.patch?"patch":u.minor?"minor":"major";const p=a?"pre":"";return t.major!==n.major?p+"major":t.minor!==n.minor?p+"minor":t.patch!==n.patch?p+"patch":"prerelease"};var Ti=Ai;const Ii=B,Pi=(r,e)=>new Ii(r,e).major;var Ni=Pi;const Li=B,_i=(r,e)=>new Li(r,e).minor;var xi=_i;const Ci=B,Fi=(r,e)=>new Ci(r,e).patch;var Di=Fi;const ji=Ge,ki=(r,e)=>{const t=ji(r,e);return t&&t.prerelease.length?t.prerelease:null};var Mi=ki;const ln=B,Ui=(r,e,t)=>new ln(r,t).compare(new ln(e,t));var K=Ui;const Gi=K,Bi=(r,e,t)=>Gi(e,r,t);var Wi=Bi;const qi=K,Hi=(r,e)=>qi(r,e,!0);var zi=Hi;const cn=B,Vi=(r,e,t)=>{const n=new cn(r,t),s=new cn(e,t);return n.compare(s)||n.compareBuild(s)};var Sr=Vi;const Xi=Sr,Ki=(r,e)=>r.sort((t,n)=>Xi(t,n,e));var Yi=Ki;const Qi=Sr,Ji=(r,e)=>r.sort((t,n)=>Qi(n,t,e));var Zi=Ji;const eo=K,to=(r,e,t)=>eo(r,e,t)>0;var Ft=to;const ro=K,no=(r,e,t)=>ro(r,e,t)<0;var br=no;const so=K,io=(r,e,t)=>so(r,e,t)===0;var Qn=io;const oo=K,ao=(r,e,t)=>oo(r,e,t)!==0;var Jn=ao;const lo=K,co=(r,e,t)=>lo(r,e,t)>=0;var Rr=co;const uo=K,po=(r,e,t)=>uo(r,e,t)<=0;var Or=po;const ho=Qn,fo=Jn,yo=Ft,vo=Rr,mo=br,go=Or,wo=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return ho(r,t,n);case"!=":return fo(r,t,n);case">":return yo(r,t,n);case">=":return vo(r,t,n);case"<":return mo(r,t,n);case"<=":return go(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Zn=wo;const Eo=B,$o=Ge,{safeRe:mt,t:gt}=nt,So=(r,e)=>{if(r instanceof Eo)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(mt[gt.COERCE]);else{let n;for(;(n=mt[gt.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),mt[gt.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;mt[gt.COERCERTL].lastIndex=-1}return t===null?null:$o(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};var bo=So,Vt,un;function Ro(){return un||(un=1,Vt=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Vt}var Oo=L;L.Node=Re;L.create=L;function L(r){var e=this;if(e instanceof L||(e=new L),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}L.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};L.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};L.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};L.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)To(this,arguments[r]);return this.length};L.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)Io(this,arguments[r]);return this.length};L.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};L.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};L.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};L.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};L.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};L.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};L.prototype.map=function(r,e){e=e||this;for(var t=new L,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};L.prototype.mapReverse=function(r,e){e=e||this;for(var t=new L,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};L.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};L.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};L.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};L.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};L.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new L;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};L.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new L;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};L.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=Ao(this,s,t[n]);return i};L.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function Ao(r,e,t){var n=e===r.head?new Re(t,null,e,r):new Re(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function To(r,e){r.tail=new Re(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Io(r,e){r.head=new Re(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Re(r,e,t,n){if(!(this instanceof Re))return new Re(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Ro()(L)}catch{}const Po=Oo,we=Symbol("max"),oe=Symbol("length"),Ie=Symbol("lengthCalculator"),Je=Symbol("allowStale"),$e=Symbol("maxAge"),ie=Symbol("dispose"),pn=Symbol("noDisposeOnSet"),k=Symbol("lruList"),X=Symbol("cache"),es=Symbol("updateAgeOnGet"),Xt=()=>1;class No{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[we]=e.max||1/0;const t=e.length||Xt;if(this[Ie]=typeof t!="function"?Xt:t,this[Je]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[$e]=e.maxAge||0,this[ie]=e.dispose,this[pn]=e.noDisposeOnSet||!1,this[es]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[we]=e||1/0,Ke(this)}get max(){return this[we]}set allowStale(e){this[Je]=!!e}get allowStale(){return this[Je]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[$e]=e,Ke(this)}get maxAge(){return this[$e]}set lengthCalculator(e){typeof e!="function"&&(e=Xt),e!==this[Ie]&&(this[Ie]=e,this[oe]=0,this[k].forEach(t=>{t.length=this[Ie](t.value,t.key),this[oe]+=t.length})),Ke(this)}get lengthCalculator(){return this[Ie]}get length(){return this[oe]}get itemCount(){return this[k].length}rforEach(e,t){t=t||this;for(let n=this[k].tail;n!==null;){const s=n.prev;hn(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[k].head;n!==null;){const s=n.next;hn(this,e,n,t),n=s}}keys(){return this[k].toArray().map(e=>e.key)}values(){return this[k].toArray().map(e=>e.value)}reset(){this[ie]&&this[k]&&this[k].length&&this[k].forEach(e=>this[ie](e.key,e.value)),this[X]=new Map,this[k]=new Po,this[oe]=0}dump(){return this[k].map(e=>At(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[k]}set(e,t,n){if(n=n||this[$e],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,i=this[Ie](t,e);if(this[X].has(e)){if(i>this[we])return Ce(this,this[X].get(e)),!1;const a=this[X].get(e).value;return this[ie]&&(this[pn]||this[ie](e,a.value)),a.now=s,a.maxAge=n,a.value=t,this[oe]+=i-a.length,a.length=i,this.get(e),Ke(this),!0}const u=new Lo(e,t,i,s,n);return u.length>this[we]?(this[ie]&&this[ie](e,t),!1):(this[oe]+=u.length,this[k].unshift(u),this[X].set(e,this[k].head),Ke(this),!0)}has(e){if(!this[X].has(e))return!1;const t=this[X].get(e).value;return!At(this,t)}get(e){return Kt(this,e,!0)}peek(e){return Kt(this,e,!1)}pop(){const e=this[k].tail;return e?(Ce(this,e),e.value):null}del(e){Ce(this,this[X].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const u=i-t;u>0&&this.set(s.k,s.v,u)}}}prune(){this[X].forEach((e,t)=>Kt(this,t,!1))}}const Kt=(r,e,t)=>{const n=r[X].get(e);if(n){const s=n.value;if(At(r,s)){if(Ce(r,n),!r[Je])return}else t&&(r[es]&&(n.value.now=Date.now()),r[k].unshiftNode(n));return s.value}},At=(r,e)=>{if(!e||!e.maxAge&&!r[$e])return!1;const t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[$e]&&t>r[$e]},Ke=r=>{if(r[oe]>r[we])for(let e=r[k].tail;r[oe]>r[we]&&e!==null;){const t=e.prev;Ce(r,e),e=t}},Ce=(r,e)=>{if(e){const t=e.value;r[ie]&&r[ie](t.key,t.value),r[oe]-=t.length,r[X].delete(t.key),r[k].removeNode(e)}};class Lo{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}}const hn=(r,e,t,n)=>{let s=t.value;At(r,s)&&(Ce(r,t),r[Je]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};var _o=No,Yt,fn;function Y(){if(fn)return Yt;fn=1;class r{constructor(v,b){if(b=n(b),v instanceof r)return v.loose===!!b.loose&&v.includePrerelease===!!b.includePrerelease?v:new r(v.raw,b);if(v instanceof s)return this.raw=v.value,this.set=[[v]],this.format(),this;if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=v.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map($=>this.parseRange($)).filter($=>$.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const $=this.set[0];if(this.set=this.set.filter(R=>!g(R[0])),this.set.length===0)this.set=[$];else if(this.set.length>1){for(const R of this.set)if(R.length===1&&I(R[0])){this.set=[R];break}}}this.format()}format(){return this.range=this.set.map(v=>v.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(v){const $=((this.options.includePrerelease&&y)|(this.options.loose&&f))+":"+v,R=t.get($);if(R)return R;const S=this.options.loose,A=S?o[a.HYPHENRANGELOOSE]:o[a.HYPHENRANGE];v=v.replace(A,ge(this.options.includePrerelease)),i("hyphen replace",v),v=v.replace(o[a.COMPARATORTRIM],h),i("comparator trim",v),v=v.replace(o[a.TILDETRIM],p),i("tilde trim",v),v=v.replace(o[a.CARETTRIM],d),i("caret trim",v);let x=v.split(" ").map(j=>O(j,this.options)).join(" ").split(/\s+/).map(j=>pe(j,this.options));S&&(x=x.filter(j=>(i("loose invalid filter",j,this.options),!!j.match(o[a.COMPARATORLOOSE])))),i("range list",x);const P=new Map,F=x.map(j=>new s(j,this.options));for(const j of F){if(g(j))return[j];P.set(j.value,j)}P.size>1&&P.has("")&&P.delete("");const V=[...P.values()];return t.set($,V),V}intersects(v,b){if(!(v instanceof r))throw new TypeError("a Range is required");return this.set.some($=>E($,b)&&v.set.some(R=>E(R,b)&&$.every(S=>R.every(A=>S.intersects(A,b)))))}test(v){if(!v)return!1;if(typeof v=="string")try{v=new u(v,this.options)}catch{return!1}for(let b=0;b<this.set.length;b++)if(z(this.set[b],v,this.options))return!0;return!1}}Yt=r;const e=_o,t=new e({max:1e3}),n=$r,s=Dt(),i=Ct,u=B,{safeRe:o,t:a,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:d}=nt,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:f}=xt,g=m=>m.value==="<0.0.0-0",I=m=>m.value==="",E=(m,v)=>{let b=!0;const $=m.slice();let R=$.pop();for(;b&&$.length;)b=$.every(S=>R.intersects(S,v)),R=$.pop();return b},O=(m,v)=>(i("comp",m,v),m=H(m,v),i("caret",m),m=_(m,v),i("tildes",m),m=se(m,v),i("xrange",m),m=ue(m,v),i("stars",m),m),T=m=>!m||m.toLowerCase()==="x"||m==="*",_=(m,v)=>m.trim().split(/\s+/).map(b=>Q(b,v)).join(" "),Q=(m,v)=>{const b=v.loose?o[a.TILDELOOSE]:o[a.TILDE];return m.replace(b,($,R,S,A,x)=>{i("tilde",m,$,R,S,A,x);let P;return T(R)?P="":T(S)?P=`>=${R}.0.0 <${+R+1}.0.0-0`:T(A)?P=`>=${R}.${S}.0 <${R}.${+S+1}.0-0`:x?(i("replaceTilde pr",x),P=`>=${R}.${S}.${A}-${x} <${R}.${+S+1}.0-0`):P=`>=${R}.${S}.${A} <${R}.${+S+1}.0-0`,i("tilde return",P),P})},H=(m,v)=>m.trim().split(/\s+/).map(b=>Ae(b,v)).join(" "),Ae=(m,v)=>{i("caret",m,v);const b=v.loose?o[a.CARETLOOSE]:o[a.CARET],$=v.includePrerelease?"-0":"";return m.replace(b,(R,S,A,x,P)=>{i("caret",m,R,S,A,x,P);let F;return T(S)?F="":T(A)?F=`>=${S}.0.0${$} <${+S+1}.0.0-0`:T(x)?S==="0"?F=`>=${S}.${A}.0${$} <${S}.${+A+1}.0-0`:F=`>=${S}.${A}.0${$} <${+S+1}.0.0-0`:P?(i("replaceCaret pr",P),S==="0"?A==="0"?F=`>=${S}.${A}.${x}-${P} <${S}.${A}.${+x+1}-0`:F=`>=${S}.${A}.${x}-${P} <${S}.${+A+1}.0-0`:F=`>=${S}.${A}.${x}-${P} <${+S+1}.0.0-0`):(i("no pr"),S==="0"?A==="0"?F=`>=${S}.${A}.${x}${$} <${S}.${A}.${+x+1}-0`:F=`>=${S}.${A}.${x}${$} <${S}.${+A+1}.0-0`:F=`>=${S}.${A}.${x} <${+S+1}.0.0-0`),i("caret return",F),F})},se=(m,v)=>(i("replaceXRanges",m,v),m.split(/\s+/).map(b=>J(b,v)).join(" ")),J=(m,v)=>{m=m.trim();const b=v.loose?o[a.XRANGELOOSE]:o[a.XRANGE];return m.replace(b,($,R,S,A,x,P)=>{i("xRange",m,$,R,S,A,x,P);const F=T(S),V=F||T(A),j=V||T(x),Xe=j;return R==="="&&Xe&&(R=""),P=v.includePrerelease?"-0":"",F?R===">"||R==="<"?$="<0.0.0-0":$="*":R&&Xe?(V&&(A=0),x=0,R===">"?(R=">=",V?(S=+S+1,A=0,x=0):(A=+A+1,x=0)):R==="<="&&(R="<",V?S=+S+1:A=+A+1),R==="<"&&(P="-0"),$=`${R+S}.${A}.${x}${P}`):V?$=`>=${S}.0.0${P} <${+S+1}.0.0-0`:j&&($=`>=${S}.${A}.0${P} <${S}.${+A+1}.0-0`),i("xRange return",$),$})},ue=(m,v)=>(i("replaceStars",m,v),m.trim().replace(o[a.STAR],"")),pe=(m,v)=>(i("replaceGTE0",m,v),m.trim().replace(o[v.includePrerelease?a.GTE0PRE:a.GTE0],"")),ge=m=>(v,b,$,R,S,A,x,P,F,V,j,Xe,xu)=>(T($)?b="":T(R)?b=`>=${$}.0.0${m?"-0":""}`:T(S)?b=`>=${$}.${R}.0${m?"-0":""}`:A?b=`>=${b}`:b=`>=${b}${m?"-0":""}`,T(F)?P="":T(V)?P=`<${+F+1}.0.0-0`:T(j)?P=`<${F}.${+V+1}.0-0`:Xe?P=`<=${F}.${V}.${j}-${Xe}`:m?P=`<${F}.${V}.${+j+1}-0`:P=`<=${P}`,`${b} ${P}`.trim()),z=(m,v,b)=>{for(let $=0;$<m.length;$++)if(!m[$].test(v))return!1;if(v.prerelease.length&&!b.includePrerelease){for(let $=0;$<m.length;$++)if(i(m[$].semver),m[$].semver!==s.ANY&&m[$].semver.prerelease.length>0){const R=m[$].semver;if(R.major===v.major&&R.minor===v.minor&&R.patch===v.patch)return!0}return!1}return!0};return Yt}var Qt,dn;function Dt(){if(dn)return Qt;dn=1;const r=Symbol("SemVer ANY");class e{static get ANY(){return r}constructor(p,d){if(d=t(d),p instanceof e){if(p.loose===!!d.loose)return p;p=p.value}p=p.trim().split(/\s+/).join(" "),u("comparator",p,d),this.options=d,this.loose=!!d.loose,this.parse(p),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(p){const d=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],y=p.match(d);if(!y)throw new TypeError(`Invalid comparator: ${p}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new o(y[2],this.options.loose):this.semver=r}toString(){return this.value}test(p){if(u("Comparator.test",p,this.options.loose),this.semver===r||p===r)return!0;if(typeof p=="string")try{p=new o(p,this.options)}catch{return!1}return i(p,this.operator,this.semver,this.options)}intersects(p,d){if(!(p instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(p.value,d).test(this.value):p.operator===""?p.value===""?!0:new a(this.value,d).test(p.semver):(d=t(d),d.includePrerelease&&(this.value==="<0.0.0-0"||p.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||p.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&p.operator.startsWith(">")||this.operator.startsWith("<")&&p.operator.startsWith("<")||this.semver.version===p.semver.version&&this.operator.includes("=")&&p.operator.includes("=")||i(this.semver,"<",p.semver,d)&&this.operator.startsWith(">")&&p.operator.startsWith("<")||i(this.semver,">",p.semver,d)&&this.operator.startsWith("<")&&p.operator.startsWith(">")))}}Qt=e;const t=$r,{safeRe:n,t:s}=nt,i=Zn,u=Ct,o=B,a=Y();return Qt}const xo=Y(),Co=(r,e,t)=>{try{e=new xo(e,t)}catch{return!1}return e.test(r)};var jt=Co;const Fo=Y(),Do=(r,e)=>new Fo(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));var jo=Do;const ko=B,Mo=Y(),Uo=(r,e,t)=>{let n=null,s=null,i=null;try{i=new Mo(e,t)}catch{return null}return r.forEach(u=>{i.test(u)&&(!n||s.compare(u)===-1)&&(n=u,s=new ko(n,t))}),n};var Go=Uo;const Bo=B,Wo=Y(),qo=(r,e,t)=>{let n=null,s=null,i=null;try{i=new Wo(e,t)}catch{return null}return r.forEach(u=>{i.test(u)&&(!n||s.compare(u)===1)&&(n=u,s=new Bo(n,t))}),n};var Ho=qo;const Jt=B,zo=Y(),yn=Ft,Vo=(r,e)=>{r=new zo(r,e);let t=new Jt("0.0.0");if(r.test(t)||(t=new Jt("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){const s=r.set[n];let i=null;s.forEach(u=>{const o=new Jt(u.semver.version);switch(u.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||yn(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),i&&(!t||yn(t,i))&&(t=i)}return t&&r.test(t)?t:null};var Xo=Vo;const Ko=Y(),Yo=(r,e)=>{try{return new Ko(r,e).range||"*"}catch{return null}};var Qo=Yo;const Jo=B,ts=Dt(),{ANY:Zo}=ts,ea=Y(),ta=jt,vn=Ft,mn=br,ra=Or,na=Rr,sa=(r,e,t,n)=>{r=new Jo(r,n),e=new ea(e,n);let s,i,u,o,a;switch(t){case">":s=vn,i=ra,u=mn,o=">",a=">=";break;case"<":s=mn,i=na,u=vn,o="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ta(r,e,n))return!1;for(let h=0;h<e.set.length;++h){const p=e.set[h];let d=null,y=null;if(p.forEach(f=>{f.semver===Zo&&(f=new ts(">=0.0.0")),d=d||f,y=y||f,s(f.semver,d.semver,n)?d=f:u(f.semver,y.semver,n)&&(y=f)}),d.operator===o||d.operator===a||(!y.operator||y.operator===o)&&i(r,y.semver))return!1;if(y.operator===a&&u(r,y.semver))return!1}return!0};var Ar=sa;const ia=Ar,oa=(r,e,t)=>ia(r,e,">",t);var aa=oa;const la=Ar,ca=(r,e,t)=>la(r,e,"<",t);var ua=ca;const gn=Y(),pa=(r,e,t)=>(r=new gn(r,t),e=new gn(e,t),r.intersects(e,t));var ha=pa;const fa=jt,da=K;var ya=(r,e,t)=>{const n=[];let s=null,i=null;const u=r.sort((p,d)=>da(p,d,t));for(const p of u)fa(p,e,t)?(i=p,s||(s=p)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const o=[];for(const[p,d]of n)p===d?o.push(p):!d&&p===u[0]?o.push("*"):d?p===u[0]?o.push(`<=${d}`):o.push(`${p} - ${d}`):o.push(`>=${p}`);const a=o.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return a.length<h.length?a:e};const wn=Y(),Tr=Dt(),{ANY:Zt}=Tr,Ye=jt,Ir=K,va=(r,e,t={})=>{if(r===e)return!0;r=new wn(r,t),e=new wn(e,t);let n=!1;e:for(const s of r.set){for(const i of e.set){const u=ga(s,i,t);if(n=n||u!==null,u)continue e}if(n)return!1}return!0},ma=[new Tr(">=0.0.0-0")],En=[new Tr(">=0.0.0")],ga=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Zt){if(e.length===1&&e[0].semver===Zt)return!0;t.includePrerelease?r=ma:r=En}if(e.length===1&&e[0].semver===Zt){if(t.includePrerelease)return!0;e=En}const n=new Set;let s,i;for(const f of r)f.operator===">"||f.operator===">="?s=$n(s,f,t):f.operator==="<"||f.operator==="<="?i=Sn(i,f,t):n.add(f.semver);if(n.size>1)return null;let u;if(s&&i){if(u=Ir(s.semver,i.semver,t),u>0)return null;if(u===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const f of n){if(s&&!Ye(f,String(s),t)||i&&!Ye(f,String(i),t))return null;for(const g of e)if(!Ye(f,String(g),t))return!1;return!0}let o,a,h,p,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,y=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const f of e){if(p=p||f.operator===">"||f.operator===">=",h=h||f.operator==="<"||f.operator==="<=",s){if(y&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===y.major&&f.semver.minor===y.minor&&f.semver.patch===y.patch&&(y=!1),f.operator===">"||f.operator===">="){if(o=$n(s,f,t),o===f&&o!==s)return!1}else if(s.operator===">="&&!Ye(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(a=Sn(i,f,t),a===f&&a!==i)return!1}else if(i.operator==="<="&&!Ye(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&u!==0)return!1}return!(s&&h&&!i&&u!==0||i&&p&&!s&&u!==0||y||d)},$n=(r,e,t)=>{if(!r)return e;const n=Ir(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},Sn=(r,e,t)=>{if(!r)return e;const n=Ir(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};var wa=va;const er=nt,bn=xt,Ea=B,Rn=Yn,$a=Ge,Sa=Ei,ba=bi,Ra=Oi,Oa=Ti,Aa=Ni,Ta=xi,Ia=Di,Pa=Mi,Na=K,La=Wi,_a=zi,xa=Sr,Ca=Yi,Fa=Zi,Da=Ft,ja=br,ka=Qn,Ma=Jn,Ua=Rr,Ga=Or,Ba=Zn,Wa=bo,qa=Dt(),Ha=Y(),za=jt,Va=jo,Xa=Go,Ka=Ho,Ya=Xo,Qa=Qo,Ja=Ar,Za=aa,el=ua,tl=ha,rl=ya,nl=wa;var Se={parse:$a,valid:Sa,clean:ba,inc:Ra,diff:Oa,major:Aa,minor:Ta,patch:Ia,prerelease:Pa,compare:Na,rcompare:La,compareLoose:_a,compareBuild:xa,sort:Ca,rsort:Fa,gt:Da,lt:ja,eq:ka,neq:Ma,gte:Ua,lte:Ga,cmp:Ba,coerce:Wa,Comparator:qa,Range:Ha,satisfies:za,toComparators:Va,maxSatisfying:Xa,minSatisfying:Ka,minVersion:Ya,validRange:Qa,outside:Ja,gtr:Za,ltr:el,intersects:tl,simplifyRange:rl,subset:nl,SemVer:Ea,re:er.re,src:er.src,tokens:er.t,SEMVER_SPEC_VERSION:bn.SEMVER_SPEC_VERSION,RELEASE_TYPES:bn.RELEASE_TYPES,compareIdentifiers:Rn.compareIdentifiers,rcompareIdentifiers:Rn.rcompareIdentifiers},sl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,t);if(u.value!==s||u.enumerable!==!0)return!1}return!0},On=typeof Symbol<"u"&&Symbol,il=sl,ol=function(){return typeof On!="function"||typeof Symbol!="function"||typeof On("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:il()},al="Function.prototype.bind called on incompatible ",tr=Array.prototype.slice,ll=Object.prototype.toString,cl="[object Function]",ul=function(e){var t=this;if(typeof t!="function"||ll.call(t)!==cl)throw new TypeError(al+t);for(var n=tr.call(arguments,1),s,i=function(){if(this instanceof s){var p=t.apply(this,n.concat(tr.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,n.concat(tr.call(arguments)))},u=Math.max(0,t.length-n.length),o=[],a=0;a<u;a++)o.push("$"+a);if(s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var h=function(){};h.prototype=t.prototype,s.prototype=new h,h.prototype=null}return s},pl=ul,Pr=Function.prototype.bind||pl,hl=Pr,fl=hl.call(Function.call,Object.prototype.hasOwnProperty),N,je=SyntaxError,rs=Function,Fe=TypeError,rr=function(r){try{return rs('"use strict"; return ('+r+").constructor;")()}catch{}},be=Object.getOwnPropertyDescriptor;if(be)try{be({},"")}catch{be=null}var nr=function(){throw new Fe},dl=be?function(){try{return arguments.callee,nr}catch{try{return be(arguments,"callee").get}catch{return nr}}}():nr,Pe=ol(),he=Object.getPrototypeOf||function(r){return r.__proto__},Le={},yl=typeof Uint8Array>"u"?N:he(Uint8Array),De={"%AggregateError%":typeof AggregateError>"u"?N:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?N:ArrayBuffer,"%ArrayIteratorPrototype%":Pe?he([][Symbol.iterator]()):N,"%AsyncFromSyncIteratorPrototype%":N,"%AsyncFunction%":Le,"%AsyncGenerator%":Le,"%AsyncGeneratorFunction%":Le,"%AsyncIteratorPrototype%":Le,"%Atomics%":typeof Atomics>"u"?N:Atomics,"%BigInt%":typeof BigInt>"u"?N:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?N:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?N:Float32Array,"%Float64Array%":typeof Float64Array>"u"?N:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?N:FinalizationRegistry,"%Function%":rs,"%GeneratorFunction%":Le,"%Int8Array%":typeof Int8Array>"u"?N:Int8Array,"%Int16Array%":typeof Int16Array>"u"?N:Int16Array,"%Int32Array%":typeof Int32Array>"u"?N:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Pe?he(he([][Symbol.iterator]())):N,"%JSON%":typeof JSON=="object"?JSON:N,"%Map%":typeof Map>"u"?N:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Pe?N:he(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?N:Promise,"%Proxy%":typeof Proxy>"u"?N:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?N:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?N:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Pe?N:he(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?N:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Pe?he(""[Symbol.iterator]()):N,"%Symbol%":Pe?Symbol:N,"%SyntaxError%":je,"%ThrowTypeError%":dl,"%TypedArray%":yl,"%TypeError%":Fe,"%Uint8Array%":typeof Uint8Array>"u"?N:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?N:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?N:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?N:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?N:WeakMap,"%WeakRef%":typeof WeakRef>"u"?N:WeakRef,"%WeakSet%":typeof WeakSet>"u"?N:WeakSet},vl=function r(e){var t;if(e==="%AsyncFunction%")t=rr("async function () {}");else if(e==="%GeneratorFunction%")t=rr("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=rr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=r("%AsyncGenerator%");s&&(t=he(s.prototype))}return De[e]=t,t},An={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},st=Pr,Tt=fl,ml=st.call(Function.call,Array.prototype.concat),gl=st.call(Function.apply,Array.prototype.splice),Tn=st.call(Function.call,String.prototype.replace),It=st.call(Function.call,String.prototype.slice),wl=st.call(Function.call,RegExp.prototype.exec),El=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$l=/\\(\\)?/g,Sl=function(e){var t=It(e,0,1),n=It(e,-1);if(t==="%"&&n!=="%")throw new je("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new je("invalid intrinsic syntax, expected opening `%`");var s=[];return Tn(e,El,function(i,u,o,a){s[s.length]=o?Tn(a,$l,"$1"):u||i}),s},bl=function(e,t){var n=e,s;if(Tt(An,n)&&(s=An[n],n="%"+s[0]+"%"),Tt(De,n)){var i=De[n];if(i===Le&&(i=vl(n)),typeof i>"u"&&!t)throw new Fe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new je("intrinsic "+e+" does not exist!")},Nr=function(e,t){if(typeof e!="string"||e.length===0)throw new Fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Fe('"allowMissing" argument must be a boolean');if(wl(/^%?[^%]*%?$/,e)===null)throw new je("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Sl(e),s=n.length>0?n[0]:"",i=bl("%"+s+"%",t),u=i.name,o=i.value,a=!1,h=i.alias;h&&(s=h[0],gl(n,ml([0,1],h)));for(var p=1,d=!0;p<n.length;p+=1){var y=n[p],f=It(y,0,1),g=It(y,-1);if((f==='"'||f==="'"||f==="`"||g==='"'||g==="'"||g==="`")&&f!==g)throw new je("property names with quotes must have matching quotes");if((y==="constructor"||!d)&&(a=!0),s+="."+y,u="%"+s+"%",Tt(De,u))o=De[u];else if(o!=null){if(!(y in o)){if(!t)throw new Fe("base intrinsic for "+e+" exists, but the property is not available.");return}if(be&&p+1>=n.length){var I=be(o,y);d=!!I,d&&"get"in I&&!("originalValue"in I.get)?o=I.get:o=o[y]}else d=Tt(o,y),o=o[y];d&&!a&&(De[u]=o)}}return o},ns={exports:{}};(function(r){var e=Pr,t=Nr,n=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(s,n),u=t("%Object.getOwnPropertyDescriptor%",!0),o=t("%Object.defineProperty%",!0),a=t("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}r.exports=function(d){var y=i(e,s,arguments);if(u&&o){var f=u(y,"length");f.configurable&&o(y,"length",{value:1+a(0,d.length-(arguments.length-1))})}return y};var h=function(){return i(e,n,arguments)};o?o(r.exports,"apply",{value:h}):r.exports.apply=h})(ns);var Rl=ns.exports,ss=Nr,is=Rl,Ol=is(ss("String.prototype.indexOf")),Al=function(e,t){var n=ss(e,!!t);return typeof n=="function"&&Ol(e,".prototype.")>-1?is(n):n};const Tl={},Il=Object.freeze(Object.defineProperty({__proto__:null,default:Tl},Symbol.toStringTag,{value:"Module"})),Pl=Ks(Il);var Lr=typeof Map=="function"&&Map.prototype,sr=Object.getOwnPropertyDescriptor&&Lr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Pt=Lr&&sr&&typeof sr.get=="function"?sr.get:null,In=Lr&&Map.prototype.forEach,_r=typeof Set=="function"&&Set.prototype,ir=Object.getOwnPropertyDescriptor&&_r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Nt=_r&&ir&&typeof ir.get=="function"?ir.get:null,Pn=_r&&Set.prototype.forEach,Nl=typeof WeakMap=="function"&&WeakMap.prototype,Ze=Nl?WeakMap.prototype.has:null,Ll=typeof WeakSet=="function"&&WeakSet.prototype,et=Ll?WeakSet.prototype.has:null,_l=typeof WeakRef=="function"&&WeakRef.prototype,Nn=_l?WeakRef.prototype.deref:null,xl=Boolean.prototype.valueOf,Cl=Object.prototype.toString,Fl=Function.prototype.toString,Dl=String.prototype.match,xr=String.prototype.slice,de=String.prototype.replace,jl=String.prototype.toUpperCase,Ln=String.prototype.toLowerCase,os=RegExp.prototype.test,_n=Array.prototype.concat,te=Array.prototype.join,kl=Array.prototype.slice,xn=Math.floor,hr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,or=Object.getOwnPropertySymbols,fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ke=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ke||"symbol")?Symbol.toStringTag:null,as=Object.prototype.propertyIsEnumerable,Cn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Fn(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||os.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-xn(-r):xn(r);if(n!==r){var s=String(n),i=xr.call(e,s.length+1);return de.call(s,t,"$&_")+"."+de.call(de.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(e,t,"$&_")}var dr=Pl,Dn=dr.custom,jn=cs(Dn)?Dn:null,Ml=function r(e,t,n,s){var i=t||{};if(fe(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fe(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=fe(i,"customInspect")?i.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fe(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fe(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ps(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return o?Fn(e,a):a}if(typeof e=="bigint"){var h=String(e)+"n";return o?Fn(e,h):h}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return yr(e)?"[Array]":"[Object]";var d=nc(i,n);if(typeof s>"u")s=[];else if(us(s,e)>=0)return"[Circular]";function y(m,v,b){if(v&&(s=kl.call(s),s.push(v)),b){var $={depth:i.depth};return fe(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),r(m,$,n+1,s)}return r(m,i,n+1,s)}if(typeof e=="function"&&!kn(e)){var f=Xl(e),g=wt(e,y);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(g.length>0?" { "+te.call(g,", ")+" }":"")}if(cs(e)){var I=ke?de.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fr.call(e);return typeof e=="object"&&!ke?Qe(I):I}if(ec(e)){for(var E="<"+Ln.call(String(e.nodeName)),O=e.attributes||[],T=0;T<O.length;T++)E+=" "+O[T].name+"="+ls(Ul(O[T].value),"double",i);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+Ln.call(String(e.nodeName))+">",E}if(yr(e)){if(e.length===0)return"[]";var _=wt(e,y);return d&&!rc(_)?"["+vr(_,d)+"]":"[ "+te.call(_,", ")+" ]"}if(Bl(e)){var Q=wt(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!as.call(e,"cause")?"{ ["+String(e)+"] "+te.call(_n.call("[cause]: "+y(e.cause),Q),", ")+" }":Q.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+te.call(Q,", ")+" }"}if(typeof e=="object"&&u){if(jn&&typeof e[jn]=="function"&&dr)return dr(e,{depth:p-n});if(u!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Kl(e)){var H=[];return In&&In.call(e,function(m,v){H.push(y(v,e,!0)+" => "+y(m,e))}),Mn("Map",Pt.call(e),H,d)}if(Jl(e)){var Ae=[];return Pn&&Pn.call(e,function(m){Ae.push(y(m,e))}),Mn("Set",Nt.call(e),Ae,d)}if(Yl(e))return ar("WeakMap");if(Zl(e))return ar("WeakSet");if(Ql(e))return ar("WeakRef");if(ql(e))return Qe(y(Number(e)));if(zl(e))return Qe(y(hr.call(e)));if(Hl(e))return Qe(xl.call(e));if(Wl(e))return Qe(y(String(e)));if(!Gl(e)&&!kn(e)){var se=wt(e,y),J=Cn?Cn(e)===Object.prototype:e instanceof Object||e.constructor===Object,ue=e instanceof Object?"":"null prototype",pe=!J&&G&&Object(e)===e&&G in e?xr.call(ve(e),8,-1):ue?"Object":"",ge=J||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=ge+(pe||ue?"["+te.call(_n.call([],pe||[],ue||[]),": ")+"] ":"");return se.length===0?z+"{}":d?z+"{"+vr(se,d)+"}":z+"{ "+te.call(se,", ")+" }"}return String(e)};function ls(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function Ul(r){return de.call(String(r),/"/g,"&quot;")}function yr(r){return ve(r)==="[object Array]"&&(!G||!(typeof r=="object"&&G in r))}function Gl(r){return ve(r)==="[object Date]"&&(!G||!(typeof r=="object"&&G in r))}function kn(r){return ve(r)==="[object RegExp]"&&(!G||!(typeof r=="object"&&G in r))}function Bl(r){return ve(r)==="[object Error]"&&(!G||!(typeof r=="object"&&G in r))}function Wl(r){return ve(r)==="[object String]"&&(!G||!(typeof r=="object"&&G in r))}function ql(r){return ve(r)==="[object Number]"&&(!G||!(typeof r=="object"&&G in r))}function Hl(r){return ve(r)==="[object Boolean]"&&(!G||!(typeof r=="object"&&G in r))}function cs(r){if(ke)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!fr)return!1;try{return fr.call(r),!0}catch{}return!1}function zl(r){if(!r||typeof r!="object"||!hr)return!1;try{return hr.call(r),!0}catch{}return!1}var Vl=Object.prototype.hasOwnProperty||function(r){return r in this};function fe(r,e){return Vl.call(r,e)}function ve(r){return Cl.call(r)}function Xl(r){if(r.name)return r.name;var e=Dl.call(Fl.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function us(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function Kl(r){if(!Pt||!r||typeof r!="object")return!1;try{Pt.call(r);try{Nt.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function Yl(r){if(!Ze||!r||typeof r!="object")return!1;try{Ze.call(r,Ze);try{et.call(r,et)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function Ql(r){if(!Nn||!r||typeof r!="object")return!1;try{return Nn.call(r),!0}catch{}return!1}function Jl(r){if(!Nt||!r||typeof r!="object")return!1;try{Nt.call(r);try{Pt.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function Zl(r){if(!et||!r||typeof r!="object")return!1;try{et.call(r,et);try{Ze.call(r,Ze)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function ec(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function ps(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return ps(xr.call(r,0,e.maxStringLength),e)+n}var s=de.call(de.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,tc);return ls(s,"single",e)}function tc(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+jl.call(e.toString(16))}function Qe(r){return"Object("+r+")"}function ar(r){return r+" { ? }"}function Mn(r,e,t,n){var s=n?vr(t,n):te.call(t,", ");return r+" ("+e+") {"+s+"}"}function rc(r){for(var e=0;e<r.length;e++)if(us(r[e],`
`)>=0)return!1;return!0}function nc(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=te.call(Array(r.indent+1)," ");else return null;return{base:t,prev:te.call(Array(e+1),t)}}function vr(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+te.call(r,","+t)+`
`+e.prev}function wt(r,e){var t=yr(r),n=[];if(t){n.length=r.length;for(var s=0;s<r.length;s++)n[s]=fe(r,s)?e(r[s],r):""}var i=typeof or=="function"?or(r):[],u;if(ke){u={};for(var o=0;o<i.length;o++)u["$"+i[o]]=i[o]}for(var a in r)fe(r,a)&&(t&&String(Number(a))===a&&a<r.length||ke&&u["$"+a]instanceof Symbol||(os.call(/[^\w$]/,a)?n.push(e(a,r)+": "+e(r[a],r)):n.push(a+": "+e(r[a],r))));if(typeof or=="function")for(var h=0;h<i.length;h++)as.call(r,i[h])&&n.push("["+e(i[h])+"]: "+e(r[i[h]],r));return n}var Cr=Nr,Be=Al,sc=Ml,ic=Cr("%TypeError%"),Et=Cr("%WeakMap%",!0),$t=Cr("%Map%",!0),oc=Be("WeakMap.prototype.get",!0),ac=Be("WeakMap.prototype.set",!0),lc=Be("WeakMap.prototype.has",!0),cc=Be("Map.prototype.get",!0),uc=Be("Map.prototype.set",!0),pc=Be("Map.prototype.has",!0),Fr=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},hc=function(r,e){var t=Fr(r,e);return t&&t.value},fc=function(r,e,t){var n=Fr(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},dc=function(r,e){return!!Fr(r,e)},yc=function(){var e,t,n,s={assert:function(i){if(!s.has(i))throw new ic("Side channel does not contain "+sc(i))},get:function(i){if(Et&&i&&(typeof i=="object"||typeof i=="function")){if(e)return oc(e,i)}else if($t){if(t)return cc(t,i)}else if(n)return hc(n,i)},has:function(i){if(Et&&i&&(typeof i=="object"||typeof i=="function")){if(e)return lc(e,i)}else if($t){if(t)return pc(t,i)}else if(n)return dc(n,i);return!1},set:function(i,u){Et&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Et),ac(e,i,u)):$t?(t||(t=new $t),uc(t,i,u)):(n||(n={key:{},next:null}),fc(n,i,u))}};return s},vc=String.prototype.replace,mc=/%20/g,lr={RFC1738:"RFC1738",RFC3986:"RFC3986"},Dr={default:lr.RFC3986,formatters:{RFC1738:function(r){return vc.call(r,mc,"+")},RFC3986:function(r){return String(r)}},RFC1738:lr.RFC1738,RFC3986:lr.RFC3986},gc=Dr,cr=Object.prototype.hasOwnProperty,Ee=Array.isArray,Z=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),wc=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Ee(n)){for(var s=[],i=0;i<n.length;++i)typeof n[i]<"u"&&s.push(n[i]);t.obj[t.prop]=s}}},hs=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},Ec=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Ee(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!cr.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return Ee(e)&&!Ee(t)&&(s=hs(e,n)),Ee(e)&&Ee(t)?(t.forEach(function(i,u){if(cr.call(e,u)){var o=e[u];o&&typeof o=="object"&&i&&typeof i=="object"?e[u]=r(o,i,n):e.push(i)}else e[u]=i}),e):Object.keys(t).reduce(function(i,u){var o=t[u];return cr.call(i,u)?i[u]=r(i[u],o,n):i[u]=o,i},s)},$c=function(e,t){return Object.keys(t).reduce(function(n,s){return n[s]=t[s],n},e)},Sc=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},bc=function(e,t,n,s,i){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),n==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var o="",a=0;a<u.length;++a){var h=u.charCodeAt(a);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===gc.RFC1738&&(h===40||h===41)){o+=u.charAt(a);continue}if(h<128){o=o+Z[h];continue}if(h<2048){o=o+(Z[192|h>>6]+Z[128|h&63]);continue}if(h<55296||h>=57344){o=o+(Z[224|h>>12]+Z[128|h>>6&63]+Z[128|h&63]);continue}a+=1,h=65536+((h&1023)<<10|u.charCodeAt(a)&1023),o+=Z[240|h>>18]+Z[128|h>>12&63]+Z[128|h>>6&63]+Z[128|h&63]}return o},Rc=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],s=0;s<t.length;++s)for(var i=t[s],u=i.obj[i.prop],o=Object.keys(u),a=0;a<o.length;++a){var h=o[a],p=u[h];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(t.push({obj:u,prop:h}),n.push(p))}return wc(t),e},Oc=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ac=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Tc=function(e,t){return[].concat(e,t)},Ic=function(e,t){if(Ee(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)},fs={arrayToObject:hs,assign:$c,combine:Tc,compact:Rc,decode:Sc,encode:bc,isBuffer:Ac,isRegExp:Oc,maybeMap:Ic,merge:Ec},ds=yc,Rt=fs,tt=Dr,Pc=Object.prototype.hasOwnProperty,Un={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ae=Array.isArray,Nc=Array.prototype.push,ys=function(r,e){Nc.apply(r,ae(e)?e:[e])},Lc=Date.prototype.toISOString,Gn=tt.default,U={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Rt.encode,encodeValuesOnly:!1,format:Gn,formatter:tt.formatters[Gn],indices:!1,serializeDate:function(e){return Lc.call(e)},skipNulls:!1,strictNullHandling:!1},_c=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ur={},xc=function r(e,t,n,s,i,u,o,a,h,p,d,y,f,g,I,E){for(var O=e,T=E,_=0,Q=!1;(T=T.get(ur))!==void 0&&!Q;){var H=T.get(e);if(_+=1,typeof H<"u"){if(H===_)throw new RangeError("Cyclic object value");Q=!0}typeof T.get(ur)>"u"&&(_=0)}if(typeof a=="function"?O=a(t,O):O instanceof Date?O=d(O):n==="comma"&&ae(O)&&(O=Rt.maybeMap(O,function($){return $ instanceof Date?d($):$})),O===null){if(i)return o&&!g?o(t,U.encoder,I,"key",y):t;O=""}if(_c(O)||Rt.isBuffer(O)){if(o){var Ae=g?t:o(t,U.encoder,I,"key",y);return[f(Ae)+"="+f(o(O,U.encoder,I,"value",y))]}return[f(t)+"="+f(String(O))]}var se=[];if(typeof O>"u")return se;var J;if(n==="comma"&&ae(O))g&&o&&(O=Rt.maybeMap(O,o)),J=[{value:O.length>0?O.join(",")||null:void 0}];else if(ae(a))J=a;else{var ue=Object.keys(O);J=h?ue.sort(h):ue}for(var pe=s&&ae(O)&&O.length===1?t+"[]":t,ge=0;ge<J.length;++ge){var z=J[ge],m=typeof z=="object"&&typeof z.value<"u"?z.value:O[z];if(!(u&&m===null)){var v=ae(O)?typeof n=="function"?n(pe,z):pe:pe+(p?"."+z:"["+z+"]");E.set(e,_);var b=ds();b.set(ur,E),ys(se,r(m,v,n,s,i,u,n==="comma"&&g&&ae(O)?null:o,a,h,p,d,y,f,g,I,b))}}return se},Cc=function(e){if(!e)return U;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||U.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=tt.default;if(typeof e.format<"u"){if(!Pc.call(tt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=tt.formatters[n],i=U.filter;return(typeof e.filter=="function"||ae(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:U.addQueryPrefix,allowDots:typeof e.allowDots>"u"?U.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:U.charsetSentinel,delimiter:typeof e.delimiter>"u"?U.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:U.encode,encoder:typeof e.encoder=="function"?e.encoder:U.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:U.encodeValuesOnly,filter:i,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:U.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:U.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:U.strictNullHandling}},Fc=function(r,e){var t=r,n=Cc(e),s,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):ae(n.filter)&&(i=n.filter,s=i);var u=[];if(typeof t!="object"||t===null)return"";var o;e&&e.arrayFormat in Un?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var a=Un[o];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=a==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(t)),n.sort&&s.sort(n.sort);for(var p=ds(),d=0;d<s.length;++d){var y=s[d];n.skipNulls&&t[y]===null||ys(u,xc(t[y],y,a,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var f=u.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),f.length>0?g+f:""},Me=fs,mr=Object.prototype.hasOwnProperty,Dc=Array.isArray,M={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Me.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},jc=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},vs=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},kc="utf8=%26%2310003%3B",Mc="utf8=%E2%9C%93",Uc=function(e,t){var n={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,u=s.split(t.delimiter,i),o=-1,a,h=t.charset;if(t.charsetSentinel)for(a=0;a<u.length;++a)u[a].indexOf("utf8=")===0&&(u[a]===Mc?h="utf-8":u[a]===kc&&(h="iso-8859-1"),o=a,a=u.length);for(a=0;a<u.length;++a)if(a!==o){var p=u[a],d=p.indexOf("]="),y=d===-1?p.indexOf("="):d+1,f,g;y===-1?(f=t.decoder(p,M.decoder,h,"key"),g=t.strictNullHandling?null:""):(f=t.decoder(p.slice(0,y),M.decoder,h,"key"),g=Me.maybeMap(vs(p.slice(y+1),t),function(I){return t.decoder(I,M.decoder,h,"value")})),g&&t.interpretNumericEntities&&h==="iso-8859-1"&&(g=jc(g)),p.indexOf("[]=")>-1&&(g=Dc(g)?[g]:g),mr.call(n,f)?n[f]=Me.combine(n[f],g):n[f]=g}return n},Gc=function(r,e,t,n){for(var s=n?e:vs(e,t),i=r.length-1;i>=0;--i){var u,o=r[i];if(o==="[]"&&t.parseArrays)u=[].concat(s);else{u=t.plainObjects?Object.create(null):{};var a=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,h=parseInt(a,10);!t.parseArrays&&a===""?u={0:s}:!isNaN(h)&&o!==a&&String(h)===a&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(u=[],u[h]=s):a!=="__proto__"&&(u[a]=s)}s=u}return s},Bc=function(e,t,n,s){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=n.depth>0&&u.exec(i),h=a?i.slice(0,a.index):i,p=[];if(h){if(!n.plainObjects&&mr.call(Object.prototype,h)&&!n.allowPrototypes)return;p.push(h)}for(var d=0;n.depth>0&&(a=o.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&mr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(a[1])}return a&&p.push("["+i.slice(a.index)+"]"),Gc(p,t,n,s)}},Wc=function(e){if(!e)return M;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?M.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?M.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:M.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:M.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:M.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:M.comma,decoder:typeof e.decoder=="function"?e.decoder:M.decoder,delimiter:typeof e.delimiter=="string"||Me.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:M.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:M.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:M.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling}},qc=function(r,e){var t=Wc(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?Uc(r,t):r,s=t.plainObjects?Object.create(null):{},i=Object.keys(n),u=0;u<i.length;++u){var o=i[u],a=Bc(o,n[o],t,typeof r=="string");s=Me.merge(s,a,t)}return t.allowSparse===!0?s:Me.compact(s)},Hc=Fc,zc=qc,Vc=Dr,Xc={formats:Vc,parse:zc,stringify:Hc};const gr=Hn(Xc);var Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ue.apply(this,arguments)};function Kc(r){return r.toLowerCase()}var Yc=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Qc=/[^A-Z0-9]+/gi;function ms(r,e){e===void 0&&(e={});for(var t=e.splitRegexp,n=t===void 0?Yc:t,s=e.stripRegexp,i=s===void 0?Qc:s,u=e.transform,o=u===void 0?Kc:u,a=e.delimiter,h=a===void 0?" ":a,p=Bn(Bn(r,n,"$1\0$2"),i,"\0"),d=0,y=p.length;p.charAt(d)==="\0";)d++;for(;p.charAt(y-1)==="\0";)y--;return p.slice(d,y).split("\0").map(o).join(h)}function Bn(r,e,t){return e instanceof RegExp?r.replace(e,t):e.reduce(function(n,s){return n.replace(s,t)},r)}function gs(r,e){var t=r.charAt(0),n=r.substr(1).toLowerCase();return e>0&&t>="0"&&t<="9"?"_"+t+n:""+t.toUpperCase()+n}function Jc(r,e){return e===void 0&&(e={}),ms(r,Ue({delimiter:"",transform:gs},e))}function Zc(r,e){return e===0?r.toLowerCase():gs(r,e)}function eu(r,e){return e===void 0&&(e={}),Jc(r,Ue({transform:Zc},e))}function tu(r,e){return e===void 0&&(e={}),ms(r,Ue({delimiter:"."},e))}function Wn(r,e){return e===void 0&&(e={}),tu(r,Ue({delimiter:"_"},e))}var ws={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(a,h,p){this.fn=a,this.context=h,this.once=p||!1}function i(a,h,p,d,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var f=new s(p,d||a,y),g=t?t+h:h;return a._events[g]?a._events[g].fn?a._events[g]=[a._events[g],f]:a._events[g].push(f):(a._events[g]=f,a._eventsCount++),a}function u(a,h){--a._eventsCount===0?a._events=new n:delete a._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],p,d;if(this._eventsCount===0)return h;for(d in p=this._events)e.call(p,d)&&h.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},o.prototype.listeners=function(h){var p=t?t+h:h,d=this._events[p];if(!d)return[];if(d.fn)return[d.fn];for(var y=0,f=d.length,g=new Array(f);y<f;y++)g[y]=d[y].fn;return g},o.prototype.listenerCount=function(h){var p=t?t+h:h,d=this._events[p];return d?d.fn?1:d.length:0},o.prototype.emit=function(h,p,d,y,f,g){var I=t?t+h:h;if(!this._events[I])return!1;var E=this._events[I],O=arguments.length,T,_;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,d),!0;case 4:return E.fn.call(E.context,p,d,y),!0;case 5:return E.fn.call(E.context,p,d,y,f),!0;case 6:return E.fn.call(E.context,p,d,y,f,g),!0}for(_=1,T=new Array(O-1);_<O;_++)T[_-1]=arguments[_];E.fn.apply(E.context,T)}else{var Q=E.length,H;for(_=0;_<Q;_++)switch(E[_].once&&this.removeListener(h,E[_].fn,void 0,!0),O){case 1:E[_].fn.call(E[_].context);break;case 2:E[_].fn.call(E[_].context,p);break;case 3:E[_].fn.call(E[_].context,p,d);break;case 4:E[_].fn.call(E[_].context,p,d,y);break;default:if(!T)for(H=1,T=new Array(O-1);H<O;H++)T[H-1]=arguments[H];E[_].fn.apply(E[_].context,T)}}return!0},o.prototype.on=function(h,p,d){return i(this,h,p,d,!1)},o.prototype.once=function(h,p,d){return i(this,h,p,d,!0)},o.prototype.removeListener=function(h,p,d,y){var f=t?t+h:h;if(!this._events[f])return this;if(!p)return u(this,f),this;var g=this._events[f];if(g.fn)g.fn===p&&(!y||g.once)&&(!d||g.context===d)&&u(this,f);else{for(var I=0,E=[],O=g.length;I<O;I++)(g[I].fn!==p||y&&!g[I].once||d&&g[I].context!==d)&&E.push(g[I]);E.length?this._events[f]=E.length===1?E[0]:E:u(this,f)}return this},o.prototype.removeAllListeners=function(h){var p;return h?(p=t?t+h:h,this._events[p]&&u(this,p)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(ws);var ru=ws.exports;const nu=Hn(ru);var _e=null;typeof WebSocket<"u"?_e=WebSocket:typeof MozWebSocket<"u"?_e=MozWebSocket:typeof global<"u"?_e=global.WebSocket||global.MozWebSocket:typeof window<"u"?_e=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(_e=self.WebSocket||self.MozWebSocket);const su=_e;class me extends Error{constructor(e,t={}){super(e,{cause:t.cause}),this.name="MastoError",this.isMastoError=!0,Object.setPrototypeOf(this,me.prototype),this.description=t.description,this.details=t.details}}class re extends me{constructor(e,t,n){super(e,n),this.name="MastoHttpError",Object.setPrototypeOf(this,re.prototype),this.statusCode=t}}class jr extends re{constructor(e,t){super(e,409,t),this.name="MastoHttpConflictError",Object.setPrototypeOf(this,jr.prototype)}}class kr extends re{constructor(e,t){super(e,403,t),this.name="MastoHttpForbiddenError",Object.setPrototypeOf(this,kr.prototype)}}class Mr extends re{constructor(e,t){super(e,410,t),this.name="MastoHttpGoneError",Object.setPrototypeOf(this,Mr.prototype)}}class kt extends re{constructor(e,t){super(e,404,t),this.name="MastoHttpNotFoundError",Object.setPrototypeOf(this,kt.prototype)}}class Ur extends re{constructor(e,t){super(e,429,t),this.name="MastoHttpRateLimitError",Object.setPrototypeOf(this,Ur.prototype),this.limit=t.limit,this.remaining=t.remaining,this.reset=t.reset}}class Gr extends re{constructor(e,t){super(e,401,t),this.name="MastoHttpUnauthorizedError",Object.setPrototypeOf(this,Gr.prototype)}}class Br extends re{constructor(e,t,n){super(e,t,n),this.name="MastoHttpUnexpectedError",Object.setPrototypeOf(this,Br.prototype)}}class Wr extends re{constructor(e,t){super(e,422,t),this.name="MastoHttpUnprocessableEntityError",Object.setPrototypeOf(this,Wr.prototype)}}const iu=r=>{var e,t;const n=(e=r.message)!==null&&e!==void 0?e:"Unexpected error occurred",s={cause:r.cause,description:(t=r.description)!==null&&t!==void 0?t:"No further description is provided for this error",details:r.details};switch(r.statusCode){case 401:return new Gr(n,s);case 403:return new kr(n,s);case 404:return new kt(n,s);case 409:return new jr(n,s);case 410:return new Mr(n,s);case 422:return new Wr(n,s);case 429:return new Ur(n,Object.assign(Object.assign({},s),{limit:r.limit,remaining:r.remaining,reset:r.reset}));default:return new Br(n,r.statusCode,s)}};class it extends me{constructor(e,t={}){super(e,{cause:t.cause}),this.name="MastoUnexpectedError",Object.setPrototypeOf(this,it.prototype)}}class qr extends me{constructor(e,t,n,s){super(e,s),this.contentType=t,this.data=n,this.name="MastoDeserializeError",Object.setPrototypeOf(this,qr.prototype)}}class Lt extends me{constructor(e,t){super(e,t),this.name="MastoVersionError",Object.setPrototypeOf(this,Lt.prototype)}}class Hr extends me{constructor(e,t){super(e,t),this.name="MastoInvalidArgumentError",Object.setPrototypeOf(this,Hr.prototype)}}class Mt extends me{constructor(e,t){super(e,t),this.name="MastoTimeoutError",Object.setPrototypeOf(this,Mt.prototype)}}class ou{constructor(e){this.logLevel=e}debug(e,t){this.logLevel.satisfies("debug")&&this.log("debug",e,t)}info(e,t){this.logLevel.satisfies("info")&&this.log("info",e,t)}warn(e,t){this.logLevel.satisfies("warn")&&this.log("warn",e,t)}error(e,t){this.logLevel.satisfies("error")&&this.log("error",e,t)}}class au extends ou{constructor(e){super(e)}log(e,t,n){switch(e){case"debug":{console.debug(t,n);return}case"info":{console.info(t,n);return}case"warn":{console.warn(t,n);return}case"error":{console.error(t,n);return}}}}const W=Object.freeze({DEBUG:1<<0,INFO:1<<1,WARN:1<<2,ERROR:1<<3});class xe{constructor(e){this.level=e}satisfies(e){switch(e){case"debug":return!!(this.level&W.DEBUG);case"info":return!!(this.level&W.INFO);case"warn":return!!(this.level&W.WARN);case"error":return!!(this.level&W.ERROR)}}static from(e){switch(e){case"debug":return new xe(W.DEBUG|W.INFO|W.WARN|W.ERROR);case"info":return new xe(W.INFO|W.WARN|W.ERROR);case"warn":return new xe(W.WARN|W.ERROR);case"error":return new xe(W.ERROR)}}}const lu=r=>new Promise(e=>setTimeout(()=>e(),r));class cu{constructor(e){this.abortController=new Vn,this.timeout=setTimeout(()=>{this.abortController.abort()},e)}get signal(){return this.abortController.signal}clear(){clearTimeout(this.timeout)}}const uu=r=>{const e=new Vn;for(const t of r)t.addEventListener("abort",()=>e.abort());return e.signal},pu=([r,...e])=>{const t=new Ot(r);for(const n of e)new Ot(n).forEach((s,i)=>{t.set(i,s)});return t},hu=1e3*300;class fu{constructor(e,t){this.props=e,this.serializer=t}createHeader(e={}){var t,n;const s=pu([(n=(t=this.props.defaultRequestInit)===null||t===void 0?void 0:t.headers)!==null&&n!==void 0?n:{},{"Content-Type":"application/json"},e]),i=new Ot(s);return this.props.accessToken&&i.set("Authorization",`Bearer ${this.props.accessToken}`),new Ot(i)}createWebsocketProtocols(e=[]){return this.supportsSecureToken()&&this.props.accessToken!=null?[this.props.accessToken,...e]:e}resolveHttpPath(e,t){const n=new URL(e,this.props.url);return t&&(n.search=this.serializer.serializeQueryString(t)),n}resolveWebsocketPath(e,t={}){if(this.props.streamingApiUrl==null)throw new Hr("You need to specify `streamingApiUrl` to use this feature");const n=new URL(this.props.streamingApiUrl.replace(/\/$/,"")+e);return this.supportsSecureToken()||(t.accessToken=this.props.accessToken),n.search=this.serializer.serializeQueryString(t),n.toString()}createTimeout(){var e;return new cu((e=this.props.timeout)!==null&&e!==void 0?e:hu)}createAbortSignal(e){var t;const n=this.createTimeout(),s=[n.signal];return!((t=this.props.defaultRequestInit)===null||t===void 0)&&t.signal&&s.push(this.props.defaultRequestInit.signal),e!=null&&s.push(e),[uu(s),n]}getLogLevel(){var e;return xe.from((e=this.props.logLevel)!==null&&e!==void 0?e:"warn")}shouldWarnDeprecated(){return!this.props.disableDeprecatedWarning}satisfiesVersion(e,t){var n;return this.props.version==null||this.props.disableVersionCheck?{compat:"compatible",version:(n=this.props.version)===null||n===void 0?void 0:n.version}:e&&Se.lt(this.props.version,e)?{compat:"unimplemented",version:this.props.version.version}:t&&Se.gt(this.props.version,t)?{compat:"removed",version:this.props.version.version}:{compat:"compatible",version:this.props.version.version}}supportsSecureToken(){var e;return this.props.version==null||this.props.disableVersionCheck?!0:((e=this.props.streamingApiUrl)===null||e===void 0?void 0:e.startsWith("wss:"))&&Se.gte(this.props.version,new Se.SemVer("2.8.4",{loose:!0}))}}class du{get(e,t,n={}){return this.request({path:e,searchParams:t,requestInit:Object.assign({method:"GET"},n)}).then(s=>s.data)}post(e,t,n={}){return this.request({path:e,body:t,requestInit:Object.assign({method:"POST"},n)}).then(s=>s.data)}delete(e,t,n={}){return this.request({path:e,body:t,requestInit:Object.assign({method:"DELETE"},n)}).then(s=>s.data)}put(e,t,n={}){return this.request({path:e,body:t,requestInit:Object.assign({method:"PUT"},n)}).then(s=>s.data)}patch(e,t,n={}){return this.request({path:e,body:t,requestInit:Object.assign({method:"PATCH"},n)}).then(s=>s.data)}}function l(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(u=r[o])&&(i=(s<3?u(i):s>3?u(e,t,i):u(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i}function ye(r,e,t,n){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function o(p){try{h(n.next(p))}catch(d){u(d)}}function a(p){try{h(n.throw(p))}catch(d){u(d)}}function h(p){p.done?i(p.value):s(p.value).then(o,a)}h((n=n.apply(r,e||[])).next())})}const St=r=>{const e=r.get("Content-Type");if(typeof e=="string")return e.replace(/\s*;.*$/,"")};class yu extends du{constructor(e,t,n){super(),this.serializer=e,this.config=t,this.logger=n}request(e){var t,n,s,i,u;return ye(this,void 0,void 0,function*(){const[o,a]=this.createRequest(e);try{(t=this.logger)===null||t===void 0||t.info(`↑ ${o.method} ${o.url}`),(n=this.logger)===null||n===void 0||n.debug("	body",o.body);const h=yield si(o);if(a.clear(),!h.ok)throw h;const p=yield h.text(),d=St(h.headers);if(d==null)throw new it("Content-Type is not defined");const y=this.serializer.deserialize(d,p);return(s=this.logger)===null||s===void 0||s.info(`↓ ${o.method} ${o.url}`),(i=this.logger)===null||i===void 0||i.debug("	body",p),{headers:h.headers,data:y}}catch(h){throw(u=this.logger)===null||u===void 0||u.debug("HTTP failed",h),yield this.createError(h)}})}createRequest(e){var t;const{path:n,searchParams:s,requestInit:i}=e,u=this.config.resolveHttpPath(n,s),o=this.config.createHeader(i==null?void 0:i.headers),[a,h]=this.config.createAbortSignal(i==null?void 0:i.signal),p=this.serializer.serialize((t=St(o))!==null&&t!==void 0?t:"application/json",e.body);return p instanceof zn&&o.delete("Content-Type"),p==null&&St(o)=="application/json"&&o.delete("Content-Type"),[new ri(u,Object.assign(Object.assign({},i),{headers:o,body:p,signal:a})),h]}createError(e){var t;return ye(this,void 0,void 0,function*(){if(e instanceof ni){const n=this.serializer.deserialize((t=St(e.headers))!==null&&t!==void 0?t:"application/json",yield e.text());return iu({cause:e,statusCode:e.status,message:n==null?void 0:n.error,details:n==null?void 0:n.errorDescription,description:n==null?void 0:n.details,limit:e.headers.get("X-RateLimit-Limit"),remaining:e.headers.get("X-RateLimit-Remaining"),reset:e.headers.get("X-RateLimit-Reset")})}return e!=null&&e.name==="AbortError"?new Mt("Request timed out",{cause:e}):e})}}const c=r=>(e,t,n)=>{const s=n.value;if(!s)throw new it("version can only apply to a method of a class");n.value=function(...i){const u=r.since&&new Se.SemVer(r.since,{loose:!0}),o=r.until&&new Se.SemVer(r.until,{loose:!0}),a=this.config.satisfiesVersion(u,o);switch(a.compat){case"unimplemented":throw new Lt(`${String(this.constructor.name)}.${String(t)} is not available with the current Mastodon version `+a.version+` It requires greater than or equal to version ${u}.`);case"removed":throw new Lt(`${String(this.constructor.name)}.${String(t)} is not available with the current Mastodon version`+a.version+` It was removed on version ${o}.`);case"compatible":return s.apply(this,i)}}};class w{constructor(e,t,n){this.http=e,this.nextPath=t,this.nextParams=n,this.pluckNext=s=>{var i;return s==null||(i=s.match(/<([^>]+?)>; rel="next"/))===null||i===void 0?void 0:i[1].replace(/^https?:\/\/[^/]+/,"")}}next(){var e,t;return ye(this,void 0,void 0,function*(){if(this.nextPath==null)return{done:!0,value:void 0};const n=yield this.http.request({requestInit:{method:"GET"},path:this.nextPath,searchParams:this.nextParams}),s=(e=this.pluckNext(n.headers.get("link")))===null||e===void 0?void 0:e.split("?");return this.nextPath=s==null?void 0:s[0],this.nextParams=gr.parse((t=s==null?void 0:s[1])!==null&&t!==void 0?t:""),{done:!1,value:n.data}})}return(e){return ye(this,void 0,void 0,function*(){return this.clear(),{done:!0,value:yield e}})}throw(e){return ye(this,void 0,void 0,function*(){throw this.clear(),e})}then(e=Promise.resolve,t=Promise.reject){return this.next().then(n=>e(n.value),t)}[Symbol.asyncIterator](){return this}clear(){this.nextPath=void 0,this.nextParams=void 0}clone(){return new w(this.http,this.nextPath,this.nextParams)}}let C=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get(`/api/v1/accounts/${e}`)}create(e){return this.http.post("/api/v1/accounts",e,{headers:{"Content-Type":"multipart/form-data"}})}verifyCredentials(){return this.http.get("/api/v1/accounts/verify_credentials")}updateCredentials(e){return this.http.patch("/api/v1/accounts/update_credentials",e,{headers:{"Content-Type":"multipart/form-data"}})}listFollowers(e,t={}){return new w(this.http,`/api/v1/accounts/${e}/followers`,t)}listFollowing(e,t={}){return new w(this.http,`/api/v1/accounts/${e}/following`,t)}listStatuses(e,t={}){return new w(this.http,`/api/v1/accounts/${e}/statuses`,t)}follow(e,t){return this.http.post(`/api/v1/accounts/${e}/follow`,t)}unfollow(e,t){return this.http.post(`/api/v1/accounts/${e}/unfollow`,t)}fetchRelationships(e){return this.http.get("/api/v1/accounts/relationships",{id:e})}search(e){return new w(this.http,"/api/v1/accounts/search",e)}block(e){return this.http.post(`/api/v1/accounts/${e}/block`)}unblock(e){return this.http.post(`/api/v1/accounts/${e}/unblock`)}pin(e){return this.http.post(`/api/v1/accounts/${e}/pin`)}unpin(e){return this.http.post(`/api/v1/accounts/${e}/unpin`)}listLists(e){return new w(this.http,`/api/v1/accounts/${e}/lists`)}mute(e,t){return this.http.post(`/api/v1/accounts/${e}/mute`,t)}unmute(e){return this.http.post(`/api/v1/accounts/${e}/unmute`)}createNote(e,t){return this.http.post(`/api/v1/accounts/${e}/note`,t)}listFeaturedTags(e){return new w(this.http,`/api/v1/accounts/${e}/featured_tags`)}listIdentityProofs(e){return new w(this.http,`/api/v1/accounts/${e}/identity_proofs`)}lookup(e){return this.http.get("/api/v1/accounts/lookup",e)}fetchFamiliarFollowers(e){return this.http.get("/api/v1/accounts/familiar_followers",{id:e})}removeFromFollowers(e){return this.http.post(`/api/v1/accounts/${e}/remove_from_followers`)}};l([c({since:"0.0.0"})],C.prototype,"fetch",null);l([c({since:"2.7.0"})],C.prototype,"create",null);l([c({since:"0.0.0"})],C.prototype,"verifyCredentials",null);l([c({since:"0.0.0"})],C.prototype,"updateCredentials",null);l([c({since:"0.0.0"})],C.prototype,"listFollowers",null);l([c({since:"0.0.0"})],C.prototype,"listFollowing",null);l([c({since:"0.0.0"})],C.prototype,"listStatuses",null);l([c({since:"0.0.0"})],C.prototype,"follow",null);l([c({since:"0.0.0"})],C.prototype,"unfollow",null);l([c({since:"0.0.0"})],C.prototype,"fetchRelationships",null);l([c({since:"0.0.0"})],C.prototype,"search",null);l([c({since:"0.0.0"})],C.prototype,"block",null);l([c({since:"0.0.0"})],C.prototype,"unblock",null);l([c({since:"2.5.0"})],C.prototype,"pin",null);l([c({since:"2.5.0"})],C.prototype,"unpin",null);l([c({since:"2.1.0"})],C.prototype,"listLists",null);l([c({since:"0.0.0"})],C.prototype,"mute",null);l([c({since:"0.0.0"})],C.prototype,"unmute",null);l([c({since:"3.2.0"})],C.prototype,"createNote",null);l([c({since:"3.3.0"})],C.prototype,"listFeaturedTags",null);l([c({since:"2.8.0"})],C.prototype,"listIdentityProofs",null);l([c({since:"3.4.0"})],C.prototype,"lookup",null);l([c({since:"3.5.0"})],C.prototype,"fetchFamiliarFollowers",null);l([c({since:"3.5.0"})],C.prototype,"removeFromFollowers",null);const Ut=r=>(e,t,n)=>{const s=n.value;if(s==null)throw new it("deprecated can only apply to a method of a class");n.value=function(...i){var u,o;return!((u=this.config)===null||u===void 0)&&u.shouldWarnDeprecated()&&((o=this.logger)===null||o===void 0||o.warn(`#${t.toString()} is deprecated. ${r}`)),s.apply(this,i)}};class le{constructor(e,t,n){this.ws=e,this.config=t,this.logger=n}streamUser(){return this.ws.stream("/api/v1/streaming",{stream:"user"})}streamPublicTimeline(){return this.ws.stream("/api/v1/streaming",{stream:"public"})}streamCommunityTimeline(){return this.ws.stream("/api/v1/streaming",{stream:"public:local"})}streamRemotePublicTimeline(){return this.ws.stream("/api/v1/streaming",{stream:"public:remote"})}streamTagTimeline(e){return this.ws.stream("/api/v1/streaming",{stream:"hashtag",tag:e})}streamLocalTagTimeline(e){return this.ws.stream("/api/v1/streaming",{stream:"hashtag:local",tag:e})}streamListTimeline(e){return this.ws.stream("/api/v1/streaming",{stream:"list",list:e})}streamDirectTimeline(){return this.ws.stream("/api/v1/streaming",{stream:"direct"})}}l([c({since:"0.0.0"})],le.prototype,"streamUser",null);l([c({since:"0.0.0"})],le.prototype,"streamPublicTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamCommunityTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamRemotePublicTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamTagTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamLocalTagTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamListTimeline",null);l([c({since:"0.0.0"})],le.prototype,"streamDirectTimeline",null);class ot{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(){return new w(this.http,"/api/v1/announcements")}dismiss(e){return this.http.post(`/api/v1/announcements/${e}/dismiss`)}addReaction(e,t){return this.http.put(`/api/v1/announcements/${e}/reactions/${t}`)}removeReaction(e,t){return this.http.delete(`/api/v1/announcements/${e}/reactions/${t}`)}}l([c({since:"3.1.0"})],ot.prototype,"list",null);l([c({since:"3.1.0"})],ot.prototype,"dismiss",null);l([c({since:"3.1.0"})],ot.prototype,"addReaction",null);l([c({since:"3.1.0"})],ot.prototype,"removeReaction",null);class zr{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}create(e){return this.http.post("/api/v1/apps",e)}verifyCredentials(){return this.http.get("/api/v1/apps/verify_credentials")}}l([c({since:"0.0.0"})],zr.prototype,"create",null);l([c({since:"2.0.0"})],zr.prototype,"verifyCredentials",null);class Es{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e={}){return new w(this.http,"/api/v1/blocks",e)}}l([c({since:"0.0.0"})],Es.prototype,"list",null);class $s{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e={}){return new w(this.http,"/api/v1/bookmarks",e)}}l([c({since:"3.1.0"})],$s.prototype,"list",null);class Gt{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e={}){return new w(this.http,"/api/v1/conversations",e)}remove(e){return this.http.delete(`/api/v1/conversations/${e}`)}read(e){return this.http.post(`/api/v1/conversations/${e}/read`)}}l([c({since:"2.6.0"})],Gt.prototype,"list",null);l([c({since:"2.6.0"})],Gt.prototype,"remove",null);l([c({since:"2.6.0"})],Gt.prototype,"read",null);class Ss{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(){return new w(this.http,"/api/v1/custom_emojis")}}l([c({since:"2.0.0"})],Ss.prototype,"list",null);class bs{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/directory",e)}}l([c({since:"3.0.0"})],bs.prototype,"list",null);let Bt=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/domain_blocks",e)}block(e){return this.http.post("/api/v1/domain_blocks",{domain:e})}unblock(e){return this.http.delete("/api/v1/domain_blocks",{domain:e})}};l([c({since:"1.4.0"})],Bt.prototype,"list",null);l([c({since:"1.4.0"})],Bt.prototype,"block",null);l([c({since:"1.4.0"})],Bt.prototype,"unblock",null);class Rs{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/endorsements",e)}}l([c({since:"2.5.0"})],Rs.prototype,"list",null);class Os{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/favourites",e)}}l([c({since:"0.0.0"})],Os.prototype,"list",null);class at{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(){return new w(this.http,"/api/v1/featured_tags")}create(e){return this.http.post("/api/v1/featured_tags",e,{headers:{"Content-Type":"multipart/form-data"}})}listSuggestions(){return new w(this.http,"/api/v1/featured_tags/suggestions")}remove(e){return this.http.delete(`/api/v1/featured_tags/${e}`)}}l([c({since:"3.0.0"})],at.prototype,"list",null);l([c({since:"3.0.0"})],at.prototype,"create",null);l([c({since:"3.0.0"})],at.prototype,"listSuggestions",null);l([c({since:"3.0.0"})],at.prototype,"remove",null);let We=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(){return new w(this.http,"/api/v1/filters")}fetch(e){return this.http.get(`/api/v1/filters/${e}`)}create(e){return this.http.post("/api/v1/filters",e)}update(e,t){return this.http.put(`/api/v1/filters/${e}`,t)}remove(e){return this.http.delete(`/api/v1/filters/${e}`)}};l([c({since:"2.4.3"})],We.prototype,"list",null);l([c({since:"2.4.3"})],We.prototype,"fetch",null);l([c({since:"2.4.3"})],We.prototype,"create",null);l([c({since:"2.4.3"})],We.prototype,"update",null);l([c({since:"2.4.3"})],We.prototype,"remove",null);class Wt{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/follow_requests",e)}authorize(e){return this.http.post(`/api/v1/follow_requests/${e}/authorize`)}reject(e){return this.http.post(`/api/v1/follow_requests/${e}/reject`)}}l([c({since:"0.0.0"})],Wt.prototype,"list",null);l([c({since:"0.0.0"})],Wt.prototype,"authorize",null);l([c({since:"0.0.0"})],Wt.prototype,"reject",null);let lt=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(){return this.http.get("/api/v1/instance")}listPeers(){return new w(this.http,"/api/v1/instance/peers")}listActivities(){return new w(this.http,"/api/v1/instance/activity")}};l([c({since:"1.0.0"})],lt.prototype,"fetch",null);l([c({since:"2.1.2"})],lt.prototype,"listPeers",null);l([c({since:"2.1.2"})],lt.prototype,"listActivities",null);class ce{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get(`/api/v1/lists/${e}`)}list(){return new w(this.http,"/api/v1/lists")}create(e){return this.http.post("/api/v1/lists",e)}update(e,t){return this.http.put(`/api/v1/lists/${e}`,t)}remove(e){return this.http.delete(`/api/v1/lists/${e}`)}listAccounts(e,t){return new w(this.http,`/api/v1/lists/${e}/accounts`,t)}addAccount(e,t){return this.http.post(`/api/v1/lists/${e}/accounts`,t)}removeAccount(e,t){return this.http.delete(`/api/v1/lists/${e}/accounts`,t)}}l([c({since:"2.1.0"})],ce.prototype,"fetch",null);l([c({since:"2.1.0"})],ce.prototype,"list",null);l([c({since:"2.1.0"})],ce.prototype,"create",null);l([c({since:"2.1.0"})],ce.prototype,"update",null);l([c({since:"2.1.0"})],ce.prototype,"remove",null);l([c({since:"2.1.0"})],ce.prototype,"listAccounts",null);l([c({since:"2.1.0"})],ce.prototype,"addAccount",null);l([c({since:"2.1.0"})],ce.prototype,"removeAccount",null);class Vr{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get("/api/v1/markers",e)}create(e){return this.http.post("/api/v1/markers",e)}}l([c({since:"3.0.0"})],Vr.prototype,"fetch",null);l([c({since:"3.0.0"})],Vr.prototype,"create",null);let ct=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}create(e){return this.http.post("/api/v1/media",e,{headers:{"Content-Type":"multipart/form-data"}})}fetch(e){return this.http.get(`/api/v1/media/${e}`)}update(e,t){return this.http.put(`/api/v1/media/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})}};l([Ut("Use MastoClient.v2.media.create instead"),c({since:"0.0.0",until:"3.1.3"})],ct.prototype,"create",null);l([c({since:"3.1.3"})],ct.prototype,"fetch",null);l([c({since:"0.0.0"})],ct.prototype,"update",null);class As{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/mutes",e)}}l([c({since:"0.0.0"})],As.prototype,"list",null);class ut{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/notifications",e)}fetch(e){return this.http.get(`/api/v1/notifications/${e}`)}clear(){return this.http.post("/api/v1/notifications/clear")}dismiss(e){return this.http.post(`/api/v1/notifications/${e}/dismiss`)}}l([c({since:"0.0.0"})],ut.prototype,"list",null);l([c({since:"0.0.0"})],ut.prototype,"fetch",null);l([c({since:"0.0.0"})],ut.prototype,"clear",null);l([c({since:"2.6.0"})],ut.prototype,"dismiss",null);class Xr{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get(`/api/v1/polls/${e}`)}vote(e,t){return this.http.post(`/api/v1/polls/${e}/votes`,t)}}l([c({since:"2.8.0"})],Xr.prototype,"fetch",null);l([c({since:"2.8.0"})],Xr.prototype,"vote",null);class Ts{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(){return this.http.get("/api/v1/preferences")}}l([c({since:"2.8.0"})],Ts.prototype,"fetch",null);class pt{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}create(e){return this.http.post("/api/v1/push/subscription",e)}fetch(){return this.http.get("/api/v1/push/subscription")}update(e){return this.http.put("/api/v1/push/subscription",e)}remove(){return this.http.delete("/api/v1/push/subscription")}}l([c({since:"2.4.0"})],pt.prototype,"create",null);l([c({since:"2.4.0"})],pt.prototype,"fetch",null);l([c({since:"2.4.0"})],pt.prototype,"update",null);l([c({since:"2.4.0"})],pt.prototype,"remove",null);let Is=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}create(e){return this.http.post("/api/v1/reports",e)}};l([c({since:"1.1.0"})],Is.prototype,"create",null);class ht{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/scheduled_statuses",e)}fetch(e){return this.http.get(`/api/v1/scheduled_statuses/${e}`)}update(e,t){return this.http.put(`/api/v1/scheduled_statuses/${e}`,t)}remove(e){return this.http.delete(`/api/v1/scheduled_statuses/${e}`)}}l([c({since:"2.7.0"})],ht.prototype,"list",null);l([c({since:"2.7.0"})],ht.prototype,"fetch",null);l([c({since:"2.7.0"})],ht.prototype,"update",null);l([c({since:"2.7.0"})],ht.prototype,"remove",null);class D{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get(`/api/v1/statuses/${e}`)}create(e,t={}){return t.idempotencyKey?this.http.post("/api/v1/statuses",e,{headers:{"Idempotency-Key":t.idempotencyKey}}):this.http.post("/api/v1/statuses",e)}update(e,t){return this.http.put(`/api/v1/statuses/${e}`,t)}remove(e){return this.http.delete(`/api/v1/statuses/${e}`)}fetchContext(e){return this.http.get(`/api/v1/statuses/${e}/context`)}fetchCard(e){return this.http.get(`/api/v1/statuses/${e}/card`)}favourite(e){return this.http.post(`/api/v1/statuses/${e}/favourite`)}unfavourite(e){return this.http.post(`/api/v1/statuses/${e}/unfavourite`)}mute(e){return this.http.post(`/api/v1/statuses/${e}/mute`)}unmute(e){return this.http.post(`/api/v1/statuses/${e}/unmute`)}listRebloggedBy(e){return new w(this.http,`/api/v1/statuses/${e}/reblogged_by`)}listFavouritedBy(e){return new w(this.http,`/api/v1/statuses/${e}/favourited_by`)}reblog(e,t){return this.http.post(`/api/v1/statuses/${e}/reblog`,t)}unreblog(e){return this.http.post(`/api/v1/statuses/${e}/unreblog`)}pin(e){return this.http.post(`/api/v1/statuses/${e}/pin`)}unpin(e){return this.http.post(`/api/v1/statuses/${e}/unpin`)}bookmark(e){return this.http.post(`/api/v1/statuses/${e}/bookmark`)}unbookmark(e){return this.http.post(`/api/v1/statuses/${e}/unbookmark`)}listHistory(e){return new w(this.http,`/api/v1/statuses/${e}/history`)}fetchSource(e){return this.http.get(`/api/v1/statuses/${e}/source`)}translate(e,t){return this.http.post(`/api/v1/statuses/${e}/translate`,t,{headers:{"Content-Type":"multipart/form-data"}})}}l([c({since:"0.0.0"})],D.prototype,"fetch",null);l([c({since:"0.0.0"})],D.prototype,"create",null);l([c({since:"3.5.0"})],D.prototype,"update",null);l([c({since:"0.0.0"})],D.prototype,"remove",null);l([c({since:"0.0.0"})],D.prototype,"fetchContext",null);l([Ut("Use `card` attribute of status instead"),c({since:"0.0.0",until:"2.9.3"})],D.prototype,"fetchCard",null);l([c({since:"0.0.0"})],D.prototype,"favourite",null);l([c({since:"0.0.0"})],D.prototype,"unfavourite",null);l([c({since:"1.4.2"})],D.prototype,"mute",null);l([c({since:"1.4.2"})],D.prototype,"unmute",null);l([c({since:"0.0.0"})],D.prototype,"listRebloggedBy",null);l([c({since:"0.0.0"})],D.prototype,"listFavouritedBy",null);l([c({since:"0.0.0"})],D.prototype,"reblog",null);l([c({since:"0.0.0"})],D.prototype,"unreblog",null);l([c({since:"1.6.0"})],D.prototype,"pin",null);l([c({since:"1.6.0"})],D.prototype,"unpin",null);l([c({since:"3.1.0"})],D.prototype,"bookmark",null);l([c({since:"3.1.0"})],D.prototype,"unbookmark",null);l([c({since:"3.5.0"})],D.prototype,"listHistory",null);l([c({since:"3.5.0"})],D.prototype,"fetchSource",null);l([c({since:"4.0.0"})],D.prototype,"translate",null);let Kr=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/suggestions",e)}remove(e){return this.http.delete(`/api/v1/suggestions/${e}`)}};l([Ut("Use MastoClient.v2.suggestions.list instead"),c({since:"2.4.3"})],Kr.prototype,"list",null);l([c({since:"2.4.3"})],Kr.prototype,"remove",null);class qe{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}listHome(e){return new w(this.http,"/api/v1/timelines/home",e)}listPublic(e){return new w(this.http,"/api/v1/timelines/public",e)}listHashtag(e,t){return new w(this.http,`/api/v1/timelines/tag/${e}`,t)}listList(e,t){return new w(this.http,`/api/v1/timelines/list/${e}`,t)}listDirect(e){return new w(this.http,"/api/v1/timelines/direct",e)}}l([c({since:"0.0.0"})],qe.prototype,"listHome",null);l([c({since:"0.0.0"})],qe.prototype,"listPublic",null);l([c({since:"0.0.0"})],qe.prototype,"listHashtag",null);l([c({since:"2.1.0"})],qe.prototype,"listList",null);l([Ut("Use conversations API instead"),c({since:"0.0.0",until:"2.9.3"})],qe.prototype,"listDirect",null);let qt=class{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}listStatuses(e){return new w(this.http,"/api/v1/trends/statuses",e)}listLinks(e){return new w(this.http,"/api/v1/trends/links",e)}listTags(e){return new w(this.http,"/api/v1/trends/tags",e)}};l([c({since:"3.5.0"})],qt.prototype,"listStatuses",null);l([c({since:"3.5.0"})],qt.prototype,"listLinks",null);l([c({since:"3.0.0"})],qt.prototype,"listTags",null);class vu{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}createConfirmation(e){return this.http.post("/api/v1/emails/confirmations",e,{headers:{"Content-Type":"multipart/form-data"}})}}class Ht{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.get(`/api/v1/tags/${e}`)}follow(e){return this.http.post(`/api/v1/tags/${e}/follow`)}unfollow(e){return this.http.post(`/api/v1/tags/${e}/unfollow`)}}l([c({since:"4.0.0"})],Ht.prototype,"fetch",null);l([c({since:"4.0.0"})],Ht.prototype,"follow",null);l([c({since:"4.0.0"})],Ht.prototype,"unfollow",null);class Ps{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/followed_tags",e)}}l([c({since:"4.0.0"})],Ps.prototype,"list",null);class ne{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/accounts",e)}fetch(e){return this.http.get(`/api/v1/admin/accounts/${e}`)}createAction(e,t){return this.http.post(`/api/v1/admin/accounts/${e}/action`,t)}approve(e){return this.http.post(`/api/v1/admin/accounts/${e}/approve`)}reject(e){return this.http.post(`/api/v1/admin/accounts/${e}/reject`)}enable(e){return this.http.post(`/api/v1/admin/accounts/${e}/enable`)}unsilence(e){return this.http.post(`/api/v1/admin/accounts/${e}/unsilence`)}unsuspend(e){return this.http.post(`/api/v1/admin/accounts/${e}/unsuspend`)}unsensitive(e){return this.http.post(`/api/v1/admin/accounts/${e}/unsensitive`)}}l([c({since:"2.9.1"})],ne.prototype,"list",null);l([c({since:"2.9.1"})],ne.prototype,"fetch",null);l([c({since:"2.9.1"})],ne.prototype,"createAction",null);l([c({since:"2.9.1"})],ne.prototype,"approve",null);l([c({since:"2.9.1"})],ne.prototype,"reject",null);l([c({since:"2.9.1"})],ne.prototype,"enable",null);l([c({since:"2.9.1"})],ne.prototype,"unsilence",null);l([c({since:"2.9.1"})],ne.prototype,"unsuspend",null);l([c({since:"2.9.1"})],ne.prototype,"unsensitive",null);class He{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/canonical_email_blocks",e)}fetch(e){return this.http.get(`/api/v1/admin/canonical_email_blocks/${e}`)}test(e){return this.http.post("/api/v1/admin/canonical_email_blocks/test",e,{headers:{"Content-Type":"multipart/form-data"}})}create(e){return this.http.post("/api/v1/admin/canonical_email_blocks",e,{headers:{"Content-Type":"multipart/form-data"}})}remove(e){return this.http.delete(`/api/v1/admin/canonical_email_blocks/${e}`)}}l([c({since:"4.0.0"})],He.prototype,"list",null);l([c({since:"4.0.0"})],He.prototype,"fetch",null);l([c({since:"4.0.0"})],He.prototype,"test",null);l([c({since:"4.0.0"})],He.prototype,"create",null);l([c({since:"4.0.0"})],He.prototype,"remove",null);class mu{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.post("/api/v1/admin/dimensions",e)}}class ft{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/domain_allows",e)}fetch(e){return this.http.get(`/api/v1/admin/domain_allows/${e}`)}create(e){return this.http.post("/api/v1/admin/domain_allows",e)}remove(e){return this.http.delete(`/api/v1/admin/domain_allows/${e}`)}}l([c({since:"4.0.0"})],ft.prototype,"list",null);l([c({since:"4.0.0"})],ft.prototype,"fetch",null);l([c({since:"4.0.0"})],ft.prototype,"create",null);l([c({since:"4.0.0"})],ft.prototype,"remove",null);class ze{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/domain_blocks",e)}fetch(e){return this.http.get(`/api/v1/admin/domain_blocks/${e}`)}create(e){return this.http.post("/api/v1/admin/domain_blocks",e)}update(e,t){return this.http.put(`/api/v1/admin/domain_blocks/${e}`,t)}remove(e){return this.http.delete(`/api/v1/admin/domain_blocks/${e}`)}}l([c({since:"4.0.0"})],ze.prototype,"list",null);l([c({since:"4.0.0"})],ze.prototype,"fetch",null);l([c({since:"4.0.0"})],ze.prototype,"create",null);l([c({since:"4.0.0"})],ze.prototype,"update",null);l([c({since:"4.0.0"})],ze.prototype,"remove",null);class dt{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/email_domain_blocks ",e)}fetch(e){return this.http.get(`/api/v1/admin/email_domain_blocks/${e}`)}create(e){return this.http.post("/api/v1/admin/email_domain_blocks ",e)}remove(e){return this.http.delete(`/api/v1/admin/email_domain_blocks/${e}`)}}l([c({since:"4.0.0"})],dt.prototype,"list",null);l([c({since:"4.0.0"})],dt.prototype,"fetch",null);l([c({since:"4.0.0"})],dt.prototype,"create",null);l([c({since:"4.0.0"})],dt.prototype,"remove",null);class Ve{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/ip_blocks",e)}fetch(e){return this.http.get(`/api/v1/admin/ip_blocks/${e}`)}create(e){return this.http.post("/api/v1/admin/ip_blocks",e)}update(e,t){return this.http.put(`/api/v1/admin/ip_blocks/${e}`,t)}remove(e){return this.http.delete(`/api/v1/admin/ip_blocks/${e}`)}}l([c({since:"4.0.0"})],Ve.prototype,"list",null);l([c({since:"4.0.0"})],Ve.prototype,"fetch",null);l([c({since:"4.0.0"})],Ve.prototype,"create",null);l([c({since:"4.0.0"})],Ve.prototype,"update",null);l([c({since:"4.0.0"})],Ve.prototype,"remove",null);class Ns{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(e){return this.http.post("/api/v1/admin/measures",e)}}l([c({since:"3.5.0"})],Ns.prototype,"fetch",null);class Oe{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v1/admin/reports",e)}fetch(e){return this.http.get(`/api/v1/admin/reports/${e}`)}assignToSelf(e){return this.http.post(`/api/v1/admin/reports/${e}/assign_to_self`)}unassign(e){return this.http.post(`/api/v1/admin/reports/${e}/unassign`)}resolve(e){return this.http.post(`/api/v1/admin/reports/${e}/resolve`)}reopen(e){return this.http.post(`/api/v1/admin/reports/${e}/reopen`)}}l([c({since:"2.9.1"})],Oe.prototype,"list",null);l([c({since:"2.9.1"})],Oe.prototype,"fetch",null);l([c({since:"2.9.1"})],Oe.prototype,"assignToSelf",null);l([c({since:"2.9.1"})],Oe.prototype,"unassign",null);l([c({since:"2.9.1"})],Oe.prototype,"resolve",null);l([c({since:"2.9.1"})],Oe.prototype,"reopen",null);class gu{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}create(e){return this.http.post("/api/v1/admin/retention",e)}}class zt{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}listLinks(){return new w(this.http,"/api/v1/admin/trends/links")}listStatuses(){return new w(this.http,"/api/v1/admin/trends/statuses")}listTags(){return new w(this.http,"/api/v1/admin/trends/statuses")}}l([c({since:"3.5.0"})],zt.prototype,"listLinks",null);l([c({since:"3.5.0"})],zt.prototype,"listStatuses",null);l([c({since:"3.5.0"})],zt.prototype,"listTags",null);class wu{get account(){return this.accounts}get report(){return this.reports}get domainEmailBlocks(){return this.emailDomainBlocks}constructor(e,t,n){this.http=e,this.config=t,this.logger=n,this.accounts=new ne(this.http,this.config,this.logger),this.canonicalEmailBlocks=new He(this.http,this.config,this.logger),this.dimensions=new mu(this.http,this.config,this.logger),this.domainBlocks=new ze(this.http,this.config,this.logger),this.domainAllows=new ft(this.http,this.config,this.logger),this.emailDomainBlocks=new dt(this.http,this.config,this.logger),this.ipBlocks=new Ve(this.http,this.config,this.logger),this.measures=new Ns(this.http,this.config,this.logger),this.reports=new Oe(this.http,this.config,this.logger),this.retention=new gu(this.http,this.config,this.logger),this.trends=new zt(this.http,this.config,this.logger)}}let Ls=class{constructor(e,t,n,s){this.http=e,this.config=n,this.logger=s,this.admin=new wu(e,n,s),this.stream=new le(t,n,s),this.accounts=new C(e,n,s),this.announcements=new ot(e,n,s),this.apps=new zr(e,n,s),this.blocks=new Es(e,n,s),this.bookmarks=new $s(e,n,s),this.conversations=new Gt(e,n,s),this.customEmojis=new Ss(e,n,s),this.directory=new bs(e,n,s),this.domainBlocks=new Bt(e,n,s),this.endorsements=new Rs(e,n,s),this.favourites=new Os(e,n,s),this.featuredTags=new at(e,n,s),this.filters=new We(e,n,s),this.followRequests=new Wt(e,n,s),this.instances=new lt(e,n,s),this.lists=new ce(e,n,s),this.markers=new Vr(e,n,s),this.mediaAttachments=new ct(e,n,s),this.mutes=new As(e,n,s),this.notifications=new ut(e,n,s),this.polls=new Xr(e,n,s),this.preferences=new Ts(e,n,s),this.webPushSubscriptions=new pt(e,n,s),this.reports=new Is(e,n,s),this.scheduledStatuses=new ht(e,n,s),this.statuses=new D(e,n,s),this.suggestions=new Kr(e,n,s),this.timelines=new qe(e,n,s),this.trends=new qt(e,n,s),this.emails=new vu(e,n,s),this.tags=new Ht(e,n,s),this.followedTags=new Ps(e,n,s)}search(e){return new w(this.http,"/api/v1/search",e)}};l([c({since:"1.1.0",until:"3.0.0"})],Ls.prototype,"search",null);class q{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(){return new w(this.http,"/api/v2/filters")}fetch(e){return this.http.get(`/api/v2/filters/${e}`)}create(e){return this.http.post("/api/v2/filters",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}update(e,t){return this.http.put(`/api/v2/filters/${e}`,t)}remove(e){return this.http.delete(`/api/v2/filters/${e}`)}listKeywords(e){return new w(this.http,`/api/v2/filters/${e}/keywords`)}createKeyword(e,t){return this.http.post(`/api/v2/filters/${e}/keywords`,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}fetchKeyword(e){return new w(this.http,`/api/v2/filters/keywords/${e}`)}updateKeyword(e,t){return this.http.put(`/api/v2/filters/keywords/${e}`,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}removeKeyword(e){return this.http.delete(`/api/v2/filters/keywords/${e}`)}listStatuses(e){return new w(this.http,`/api/v2/filters/${e}/statuses`)}createStatus(e,t){return this.http.post(`/api/v2/filters/${e}/statuses`,t)}fetchStatus(e){return this.http.get(`/api/v2/filters/statuses/${e}`)}removeStatus(e){return this.http.get(`/api/v2/filters/statuses/${e}`)}}l([c({since:"4.0.0"})],q.prototype,"list",null);l([c({since:"4.0.0"})],q.prototype,"fetch",null);l([c({since:"4.0.0"})],q.prototype,"create",null);l([c({since:"4.0.0"})],q.prototype,"update",null);l([c({since:"4.0.0"})],q.prototype,"remove",null);l([c({since:"4.0.0"})],q.prototype,"listKeywords",null);l([c({since:"4.0.0"})],q.prototype,"createKeyword",null);l([c({since:"4.0.0"})],q.prototype,"fetchKeyword",null);l([c({since:"4.0.0"})],q.prototype,"updateKeyword",null);l([c({since:"4.0.0"})],q.prototype,"removeKeyword",null);l([c({since:"4.0.0"})],q.prototype,"listStatuses",null);l([c({since:"4.0.0"})],q.prototype,"fetchStatus",null);l([c({since:"4.0.0"})],q.prototype,"removeStatus",null);class _s{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}fetch(){return this.http.get("/api/v2/instance")}}l([c({since:"4.0.0"})],_s.prototype,"fetch",null);class xs{constructor(e,t,n){this.http=e,this.config=t,this.logger=n,this.v1=new ct(e,t)}waitFor(e,t=1e3){return ye(this,void 0,void 0,function*(){const n=this.config.createTimeout();let s;for(;s==null;){if(n.signal.aborted)throw new Mt("The media encoding has been timed out in your instance.");yield lu(t);try{const i=yield this.v1.fetch(e);i.url!=null&&(s=i,n.clear())}catch(i){if(i instanceof kt)continue;throw i}}return s})}create(e,t={}){return ye(this,void 0,void 0,function*(){const n=yield this.http.post("/api/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}});return t.skipPolling?n:this.waitFor(n.id)})}}l([c({since:"3.1.3"})],xs.prototype,"create",null);class Cs{constructor(e,t,n){this.http=e,this.config=t,this.logger=n}list(e){return new w(this.http,"/api/v2/suggestions",e)}}l([c({since:"3.4.0"})],Cs.prototype,"list",null);class Fs{constructor(e,t,n){this.http=e,this.config=t,this.logger=n,this.filters=new q(e,t,n),this.instance=new _s(e,t,n),this.mediaAttachments=new xs(e,t,n),this.suggestions=new Cs(e,t,n)}search(e){return new w(this.http,"/api/v2/search",e)}}l([c({since:"2.4.1"})],Fs.prototype,"search",null);class Eu{constructor(e){this.http=e}createToken(e){return this.http.post("/oauth/token",e,{headers:{"Content-Type":"multipart/form-data"}})}}class $u{constructor(e,t,n,s){this.http=e,this.ws=t,this.config=n,this.logger=s,this.v1=new Ls(e,t,n,s),this.v2=new Fs(e,n,s),this.oauth=new Eu(e)}}const Ds=r=>typeof r=="object"&&r!==null&&r.constructor.name==="Object",wr=(r,e="")=>Array.isArray(r)?r.map((t,n)=>wr(t,e==""?n.toString():`${e}[${n}]`)).reduce((t,n)=>Object.assign(t,n),{}):Ds(r)?Object.entries(r).map(([t,n])=>wr(n,e===""?t:`${e}[${t}]`)).reduce((t,n)=>Object.assign(t,n),{}):e===""?r:{[e]:r},Su=(r,e)=>Array.isArray(r)?r.map(t=>rt(t,e)):Ds(r)?Object.fromEntries(Object.entries(r).map(([t,n])=>[e(t),rt(n,e)])):r,rt=(r,e)=>Su(r,n=>n.includes(":")||n.startsWith("_")?n:e(n));class bu{serialize(e,t){if(t==null)return;const n=rt(t,Wn);switch(e){case"application/json":return JSON.stringify(n);case"multipart/form-data":{const s=new zn;for(const[i,u]of Object.entries(wr(n))){if(globalThis.Buffer!=null&&u instanceof globalThis.Buffer){s.append(i,u,"blob");continue}s.append(i,u)}return s}case"application/x-www-form-urlencoded":return gr.stringify(n,{encode:!1,arrayFormat:"brackets"});default:return}}serializeQueryString(e){const t=rt(e,Wn);return gr.stringify(t,{encode:!1,arrayFormat:"brackets"})}deserialize(e,t){switch(e){case"application/json":try{return rt(JSON.parse(t),eu)}catch{return}default:throw new qr(`Unknown content type ${e} returned from the server.`,e,t)}}}class Yr extends nu{constructor(e,t,n){super(),this.ws=e,this.serializer=t,this.logger=n,this.handleMessage=({data:s})=>{const{event:i,payload:u}=this.serializer.deserialize("application/json",s);if(this.logger.info(`↓ WEBSOCKET ${i}`),this.logger.debug("	body",u),i==="delete")return void this.emit(i,u);let o=[];try{o.push(this.serializer.deserialize("application/json",u))}catch{o=[]}this.emit(i,...o)}}static connect(e,t,n,s){return new Promise((i,u)=>{const o=new su(e,s),a=new Yr(o,t,n);o.addEventListener("message",a.handleMessage),o.addEventListener("error",u),o.addEventListener("open",()=>i(a))})}disconnect(){this.ws&&this.ws.close()}}class Ru{constructor(e,t,n){this.config=e,this.serializer=t,this.logger=n}stream(e,t={}){return Yr.connect(this.config.resolveWebsocketPath(e,t),this.serializer,this.logger,this.config.createWebsocketProtocols())}}const js=r=>{const e=r.version&&!r.disableVersionCheck?new Se.SemVer(r.version,!0):void 0,t=Object.assign(Object.assign({},r),{version:e}),n=new bu,s=new fu(t,n),i=new au(s.getLogLevel()),u=new yu(n,s,i);return{serializer:n,config:s,logger:i,http:u}},Ou=r=>{const{http:e,config:t}=js(r);return new lt(e,t).fetch()},Au=r=>{const{serializer:e,config:t,logger:n,http:s}=js(r),i=new Ru(t,e,n);return n.debug("Masto.js initialised",t),new $u(s,i,t,n)},Tu=r=>ye(void 0,void 0,void 0,function*(){const e=yield Ou(r);return Au(Object.assign(Object.assign({},r),{version:e.version,streamingApiUrl:e.urls.streamingApi}))});let bt;async function Qr(r,e){return bt||(bt=await Tu({url:r,accessToken:e}),bt)}async function Iu(r,e){const n=await(await Qr(r,e)).v1.scheduledStatuses.list({limit:500});return console.log(n),n}async function Pu(r,e,{scheduledAt:t,spoilerText:n,status:s,media:i}){const u=await Qr(r,e);let o;i!=null&&i.length&&(console.log("uploading media"),o=[],await i.reduce(async(h,p)=>{console.log(p);const d=await u.v2.mediaAttachments.create({file:p.file,description:p.description});return o.push(d.id),console.log("uploaded media",d),h},Promise.resolve())),console.log("posting",{scheduledAt:t,spoilerText:n,status:s,mediaIds:o});const a=await u.v1.statuses.create({scheduled_at:t,spoilerText:n,status:s,mediaIds:o});console.log("posted",a)}async function Nu(r,e,t){const s=await(await Qr(r,e)).v1.scheduledStatuses.remove(t);console.log("canceled",s)}const Er=document.querySelector("#formPost");function Jr(){const r=new FormData(Er),e=r.get("instance"),t=r.get("token");let n=r.get("scheduledAt");try{n=new Date(n).toISOString()}catch{n=null}const s=r.get("cw"),i=r.get("post"),u=Array.from(Zr.querySelectorAll("li")).map(o=>({file:o.file,description:o.querySelector("textarea").value}));return{instance:e,token:t,scheduledAt:n,cw:s,post:i,media:u}}const Ne=document.querySelector("#scheduledPosts");async function Lu(r){try{const e=r.currentTarget.value,t=Jr();await Nu(t.instance,t.token,e),await _t()}catch(e){console.error(e),window.alert(`error canceling post: ${e.message} (see console for details)`)}}async function _t(){const r=Jr();if(r.instance&&r.token)try{Ne.innerHTML="<li>loading...</li>";const e=await Iu(r.instance,r.token);if(!e.length){Ne.innerHTML="<li>no scheduled posts</li>";return}e.sort((t,n)=>t.scheduledAt.localeCompare(n.scheduledAt)),Ne.innerHTML=e.map(t=>{const n=new Date(t.scheduledAt);return`
				<li>
					<time datetime=${n.toISOString()}>${n.toString()}</time>
					${t.params.spoilerText?`<details><summary>${t.params.spoilerText}</summary>${t.params.text}</details>`:`<div>${t.params.text}</div>`}
					
					${t.mediaAttachments.length?`<ul>
						${t.mediaAttachments.map(s=>`<li>
							<a href="${s.url}" target="_blank" rel="noopener noreferrer">
								<img loading="lazy" src="${s.previewUrl}" alt="${s.description}" title="${s.description}" />
							</a>
						</li>`).join(`
`)}
					</ul>`:""}
					<button value=${t.id} type="button">cancel</button>
				</li>`}).join(`
`),Ne.querySelectorAll("button").forEach(t=>{t.addEventListener("click",Lu)})}catch(e){console.error(e),Ne.innerHTML=`<li>error fetching posts: ${e.message} (see console for details)</li>`}else Ne.innerHTML="<li>instance + access token required to fetch posts</li>"}async function _u(){try{const r=Jr();if(!r.scheduledAt)throw new Error("no scheduled date set");await Pu(r.instance,r.token,{scheduledAt:r.scheduledAt,spoilerText:r.cw,status:r.post,media:r.media})}catch(r){console.error(r),window.alert(`error scheduling post: ${r.message} (see console for details)`)}}document.querySelector("#formPost").addEventListener("submit",async r=>{r.preventDefault(),r.submitter.value==="refresh posts"?(r.submitter.disabled=!0,await _t(),r.submitter.disabled=!1):r.submitter.value==="schedule new post"&&(r.submitter.disabled=!0,await _u(),r.submitter.disabled=!1,Er.querySelector("#cw").value="",Er.querySelector("#post").value="",Zr.innerHTML="",await _t())});document.querySelector("#about").innerHTML=ks;document.querySelector("#version").textContent=Xs.version;const Zr=document.querySelector("#listMedia"),qn=document.querySelector("#media");qn.addEventListener("change",r=>{Array.from(r.currentTarget.files).forEach(e=>{const t=document.createElement("li");t.innerHTML=`<span>${e.name} (${e.type})</span> <div></div> <label>description <textarea></textarea></label> <button type="button">remove</button>`,t.file=e,t.querySelector("button").addEventListener("click",()=>{t.remove()});let n;e.type.startsWith("image")?(n=document.createElement("img"),n.src=URL.createObjectURL(e)):e.type.startsWith("video")?(n=document.createElement("video"),n.src=URL.createObjectURL(e)):e.type.startsWith("audio")?(n=document.createElement("audio"),n.src=URL.createObjectURL(e)):(n=document.createElement("div"),n.textContent="no preview available"),t.querySelector("div").replaceWith(n),Zr.append(t)}),qn.value=null});_t();document.querySelector("#preloader").remove();
